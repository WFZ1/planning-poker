/*! For license information please see main.dc66cb97.chunk.js.LICENSE.txt */
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{117:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},169:function(e,t,n){},176:function(e,t,n){},177:function(e,t,n){},179:function(e,t,n){},180:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){},191:function(e,t,n){},192:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){},195:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){},212:function(e,t,n){},213:function(e,t,n){"use strict";n.r(t);var s,a,c,r=n(0),i=n(16),o=n.n(i),l=(n(160),n(10)),u=(n(161),n(280)),j=n(133),d=Object(j.a)({breakpoints:{values:{"phone-sm":320,"phone-md":375,"phone-lg":425,"phone-xl":480,phone:640,tablet:768,lap:1024,desk:1200,widescreen:1440,fullhd:1920}},palette:{primary:{main:"#2b3a67"},secondary:{main:"#66999b"},avatar:"#60dabf"}}),b=(d.breakpoints,n(281)),m=n(54),O=n(290),f="/planning-poker",p=["login","password"],h=[{name:"login",title:"login",errorMessage:"Login can't be shorter than 3 chars and contain spaces."},{name:"password",title:"password",type:"password"},{name:"firstName",title:"first name"},{name:"lastName",title:"last name"},{name:"jobPosition",title:"job position"}],g={login:"",password:"",firstName:"",lastName:"",jobPosition:"",avatar:""},x={title:"",priority:"low",link:"",id:""},_=["WFZ1","JxmJuice","FURY-PERSON","bdvx"],v=n(25),N=v.c,S=(n(169),n(1)),I=function(){var e=N((function(e){return e.userInfo})),t=e.isLogin,n=e.avatar,s=e.firstName;return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("header",{className:"Header",children:Object(S.jsxs)("div",{className:"Header_wrapper",children:[Object(S.jsx)("div",{className:"Header_logo"}),Object(S.jsx)(m.c,{to:"".concat(f,"/welcomePage"),className:"Header_link",children:"Home"}),Object(S.jsx)(m.c,{to:"".concat(f,"/about"),className:"Header_link",children:"About"}),t&&Object(S.jsx)(O.a,{src:n,children:s?s.length>1?"".concat(s[0]).concat(s[s.length-1]):"".concat(s[0]):null,alt:"Avatar"})]})})})},C=n(15),y=(n(176),n(267)),k=(n(177),n.p+"static/media/poker-cards.c0d532c4.svg"),P=function(){return Object(S.jsxs)("div",{className:"largeLogo",children:[Object(S.jsx)("img",{src:k,alt:"Poker cards"}),Object(S.jsxs)("div",{className:"largeLogo__title",children:[Object(S.jsx)("span",{children:"Poker"}),Object(S.jsx)("span",{children:"Planning"})]})]})},T=n(17),R=n(45),G=n(47),w=n.n(G),E=n(64),L=n(11),U=(n(179),n(287)),V=n(272),A=n(266),F=n(36),M=[],K=Object(F.b)({name:"chatSlice",initialState:M,reducers:{newMessage:function(e,t){e.push(t.payload)},resetChat:function(){return M}}}),z=K.reducer,D=K.actions,B=D.newMessage,q=D.resetChat,H=Object(F.b)({name:"currentUserStore",initialState:{firstName:"",lastName:"",jobPosition:"",login:"",avatar:"",isLogin:!1,isScrum:!1},reducers:{setUserInfo:function(e,t){return t.payload},setScrumStatus:function(e,t){e.isScrum=t.payload},setCurrentUserScrumStatus:function(e){e.isScrum=!0}}}),Y=H.reducer,J=H.actions,W=J.setUserInfo,Q=J.setScrumStatus,X=J.setCurrentUserScrumStatus,Z={isVoting:!1,issuesInfo:[],players:[]},$=Object(F.b)({name:"gameSlice",initialState:Z,reducers:{setGame:function(e,t){return t.payload},resetGame:function(){return Z}}}),ee=$.reducer,te=$.actions,ne=te.setGame,se=te.resetGame,ae={players:[],queue:[],inGame:[],roomId:"",roomUrl:"",isPlaying:!1,isVoting:!1,amountAgreeWithKick:1,issues:[],scrumInfo:{firstName:"",isScrum:!0,jobPosition:"",lastName:"",login:"",avatar:""}},ce=Object(F.b)({name:"roomSlice",initialState:ae,reducers:{setRoomInfo:function(e,t){return t.payload},resetRoomInfo:function(){return ae}}}),re=ce.reducer,ie=ce.actions,oe=ie.setRoomInfo,le=ie.resetRoomInfo,ue={roundTime:40,timerNeeded:!1,autoTurn:!1,masterAsPlayer:!1,scoreType:"Story Points",shortScoreType:"SP",cards:["1","2","3","5","8","13","21","inf"]},je=Object(F.b)({name:"settingsSlice",initialState:ue,reducers:{setSettings:function(e,t){return t.payload},setTimer:function(e,t){e.roundTime=t.payload},addCard:function(e,t){e.cards.push(t.payload)},updateCard:function(e,t){var n=e.cards.findIndex((function(e){return e===t.payload.currentValue}));n&&(e.cards[n]=t.payload.value)},setCardType:function(e,t){e.shortScoreType=t.payload},resetSettings:function(){return ue}}}),de=je.reducer,be=je.actions,me=be.setSettings,Oe=be.resetSettings,fe=(be.setTimer,be.addCard),pe=be.updateCard,he=be.setCardType,ge=[],xe=Object(F.b)({name:"votingSlice",initialState:ge,reducers:{updateVoits:function(e,t){return t.payload},resetVoits:function(){return ge}}}),_e=xe.reducer,ve=xe.actions,Ne=ve.updateVoits,Se=ve.resetVoits;function Ie(e){var t,n=JSON.parse(e).type,s=JSON.parse(e).payLoad;switch(n){case"UPDATE_ROOM":a(oe(s));break;case"ROOM_BUILD":a(oe(s)),a(X()),a(Se()),a(Oe());break;case"CHAT_MESSAGE":!function(e){a(B(e))}(s);break;case"START_GAME":a(ne(s)),c.push("".concat(f,"/game"));break;case"STOP_GAME":t=s,c.push("".concat(f,"/statistics")),alert(t);break;case"UPDATE_GAME":!function(e){a(ne(e))}(s);break;case"YOU_ARE_KICKED":!function(e){c.push("".concat(f,"/welcomePage")),a(le()),alert(e)}(s);break;case"START_ISSUE_VOTE":!function(e){a(ne(e))}(s);break;case"SET_SETTINGS":a(me(s));break;case"TOGGLE_TO_GAME":c.push("".concat(f,"/game"));break;case"UPDATE_KICK_VOTES":a(Ne(s))}}var Ce={connectToRoom:function(e,t){a(q()),a(le()),a(se()),a(Q(!1)),a(Se()),(s=e).send(ye("CONNECT_TO_ROOM",t)),s.onmessage=function(e){Ie(e.data)}},sendChatMessage:function(e){var t=ye("CHAT_MESSAGE",e);s.send(t)},makeNewRoom:function(e,t){a(q()),a(le()),a(se()),a(Oe()),s=e;var n=ye("MAKE_NEW_LOBBY",t);s.send(n),s.onmessage=function(e){Ie(e.data)}},setLobbyDispatch:function(e){a=e},disconectFromRoom:function(e){var t=ye("DISCONNECT",e);s.send(t)},sendIssueToRoom:function(e){var t=ye("NEW_ISSUE",e);s.send(t)},updateIssueInRoom:function(e){var t=ye("UPDATE_ISSUE",e);s.send(t)},deleteIssue:function(e){var t=ye("DELETE_ISSUE",e);s.send(t)},sendKickOfferToRoom:function(e){var t=ye("KICK_PLAYER_OFFER",e);s.send(t)},sendKickConclusionToRoom:function(e,t,n){var a=ye("AGREE_WITH_KICK",{kickedPlayerLogin:n,login:t,conclusion:e});s.send(a)},makeGameInRoom:function(){var e=ye("MAKE_NEW_GAME","make new game");s.send(e)},movePlayerInRoom:function(e){var t=ye("MOVE_FROM_QUEUE",e);s.send(t)},setLobbyRouter:function(e){c=e},sendChoiceToGame:function(e){var t=ye("USER_MAKE_CHOICE",e);s.send(t)},startVoteIssueInRoom:function(e){var t=ye("START_ISSUE_VOTE",e);s.send(t)},stopVoteIssueInRoom:function(e){var t=ye("STOP_ISSUE_VOTE",e);s.send(t)},selectIssueInRoom:function(e){var t=ye("SELECT_ISSUE",e);s.send(t)},stopGameInRoom:function(){var e=ye("STOP_GAME","master stopped the game");s.send(e)},resetVoteIssueInRoom:function(e){var t=ye("RESET_ISSUE_VOTE",e);s.send(t)},setSettingsInRoom:function(e){var t=ye("SET_SETTINGS",e);s.send(t)}};function ye(e,t){var n={type:e,payLoad:t};return JSON.stringify(n)}function ke(e){return e.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0)}var Pe,Te="https://planing-poker-fury.herokuapp.com/",Re="wss://planing-poker-fury.herokuapp.com/";function Ge(){return(Ge=Object(E.a)(w.a.mark((function e(t){var n,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify(t),e.next=3,fetch(Te+"regNewUser",{body:n,headers:{"Content-Type":"application/json"},method:"POST"}).then((function(e){return e.json()}));case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(){return(we=Object(E.a)(w.a.mark((function e(t){var n,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify(t),console.log(111,Te+"singIn"),e.next=4,fetch(Te+"singIn",{body:n,headers:{"Content-Type":"application/json"},method:"POST"}).then((function(e){return e.json()}));case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ee={setDispatch:function(e){e,Ce.setLobbyDispatch(e)},setRouter:function(e){e,Ce.setLobbyRouter(e)},registerNewUser:function(e){return Ge.apply(this,arguments)},signInUser:function(e){return we.apply(this,arguments)},connectToRoom:function(e,t){var n={userInfo:e,roomId:t};(Pe=new WebSocket(Re)).onopen=function(){!0,Ce.connectToRoom(Pe,n)}},makeNewRoom:function(e){(Pe=new WebSocket(Re)).onopen=function(){!0,Ce.makeNewRoom(Pe,e)}},disconect:function(e,t,n){var s={login:e.login,reason:n||"",roomId:t};Ce.disconectFromRoom(s)},makeIssue:function(e){e.id=String(ke(e.title)),Ce.sendIssueToRoom(e)},updateIssue:function(e){Ce.updateIssueInRoom(e)},deleteIssue:function(e){Ce.deleteIssue(e)},kickPlayer:function(e){Ce.sendKickOfferToRoom(e)},setKickConclusion:function(e,t,n){Ce.sendKickConclusionToRoom(e,t,n)},startGame:function(){Ce.makeGameInRoom()},stopGame:function(){Ce.stopGameInRoom()},sendChatMessage:function(e){Ce.sendChatMessage(e)},movePlayerFromQueueToGame:function(e){Ce.movePlayerInRoom(e)},makeChoice:function(e){Ce.sendChoiceToGame(e)},startVoteIssue:function(e){Ce.startVoteIssueInRoom(e)},stopVoteIssue:function(e){Ce.stopVoteIssueInRoom(e)},selectIssue:function(e){Ce.selectIssueInRoom(e)},resetVoteIssue:function(e){Ce.resetVoteIssueInRoom(e)},setSettings:function(e){Ce.setSettingsInRoom(e)}},Le=Ee,Ue=n(289),Ve=n(262),Ae=n(263),Fe=n(264),Me=n(265),Ke=(n(180),function(e){var t=e.open,n=e.onChangeRegisterSuccessPopupState,s=Object(C.g)(),a=function(){n(!1),s.push("".concat(f,"/welcomePage"))};return Object(S.jsxs)(Ue.a,{className:"RegisterSuccessPopup",open:t,onClose:a,children:[Object(S.jsx)(Ve.a,{children:"Success registration"}),Object(S.jsxs)(Ae.a,{children:[Object(S.jsx)(Fe.a,{children:"Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros."}),Object(S.jsx)(Fe.a,{children:"Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor."}),Object(S.jsx)(Fe.a,{children:"Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla."})]}),Object(S.jsx)(Me.a,{}),Object(S.jsx)(A.a,{children:Object(S.jsx)(y.a,{autoFocus:!0,onClick:a,children:"OK"})})]})}),ze=n(99),De=(n(181),n(268)),Be=["loading","children"],qe=function(e){var t=e.loading,n=e.children,s=Object(ze.a)(e,Be);return Object(S.jsxs)(Ue.a,Object(L.a)(Object(L.a)({},s),{},{className:"".concat(s.className," PopUpLinearProgress"),children:[t&&Object(S.jsx)(De.a,{}),n]}))},He=(n(182),n(282)),Ye=n(286),Je=function(e){var t=e.open,n=e.onChangeFailPopUpState,s=e.title,a=e.description;return Object(S.jsx)(Ue.a,{className:"FailPopUp",open:t,onClose:function(){return n(!1)},children:Object(S.jsxs)(He.a,{onClose:function(){return n(!1)},variant:"outlined",severity:"error",children:[Object(S.jsx)(Ye.a,{children:s}),a]})})},We=function(e){var t,n=e.open,s=e.onChangeRegisterPopupState,a=Object(v.b)(),c=Object(r.useState)(!1),i=Object(l.a)(c,2),o=i[0],u=i[1],j=Object(r.useState)(""),d=Object(l.a)(j,2),b=d[0],m=d[1],f=Object(r.useState)(g),p=Object(l.a)(f,2),x=p[0],_=p[1],N=Object(r.useState)([]),I=Object(l.a)(N,2),C=I[0],k=I[1],P=Object(r.useState)(!1),G=Object(l.a)(P,2),F=G[0],M=G[1],K=Object(r.useState)(!1),z=Object(l.a)(K,2),D=z[0],B=z[1],q=function(){var e=Object(E.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,Le.registerNewUser(x);case 3:e.sent.isSuccess?(a(W(Object(L.a)(Object(L.a)({},x),{},{isLogin:!0}))),u(!1),s(!1),_(g),M(!0)):(u(!1),B(!0));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(e){var t=e.name,n=e.title,s=e.errorMessage;return C.includes(t)?s||"".concat(n," can't be shorter than 3 chars."):""},Y=function(e){var t=e.target,n=t.value,s=t.name;_(Object(L.a)(Object(L.a)({},x),{},Object(T.a)({},s,n))),function(e,t){if(C&&k){var n=/.{3,}/;if("login"===e&&(n=/^[^\s]{3,}$/),n.test(t)){if(C.includes(e)){var s=C.filter((function(t){return t!==e}));k(s)}}else C.includes(e)||k([].concat(Object(R.a)(C),[e]))}}(s,n)};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(qe,{className:"RegisterPopup",open:n,onClose:function(){return s(!1)},loading:o,children:Object(S.jsxs)("form",{children:[Object(S.jsx)("h3",{className:"RegisterPopup__title",children:"Register new user"}),h.map((function(e){return Object(S.jsx)("div",{className:"RegisterPopup__box",children:Object(S.jsxs)("label",{children:[Object(S.jsxs)("span",{className:"RegisterPopup__boxTitle",children:["Your ",e.title,":"]}),Object(S.jsx)(U.a,{className:"RegisterPopup__field",defaultValue:x[e.name],onChange:Y,name:e.name,error:C.includes(e.name),helperText:H(e),type:e.type?e.type:"text",variant:"outlined",size:"small"})]})},e.name)})),Object(S.jsxs)("div",{className:"RegisterPopup__avatar",children:[Object(S.jsx)("span",{className:"RegisterPopup__boxTitle",children:"Image:"}),Object(S.jsxs)("div",{className:"RegisterPopup__avatarBtns",children:[Object(S.jsxs)("label",{className:"RegisterPopup__avatarUpload",children:[Object(S.jsx)(V.a,{type:"file",onChange:function(e){return function(e){var t=e.files[0];if(t){e.value="";var n=new FileReader;n.onload=function(){n.result&&(m(n.result.toString()),_(Object(L.a)(Object(L.a)({},x),{},{avatar:n.result.toString()})))},n.readAsDataURL(t)}}(e.target)}}),Object(S.jsx)(O.a,{src:b,children:(t=x.firstName,t?t.length>1?"".concat(t[0]).concat(t[t.length-1]):"".concat(t[0]):null),alt:"Avatar"})]}),Object(S.jsx)("button",{className:"RegisterPopup__avatarReset",onClick:function(){return m("")},type:"button",children:"\xd7"})]})]}),Object(S.jsxs)(A.a,{className:"RegisterPopup__btns",children:[Object(S.jsx)(y.a,{onClick:function(){return q()},disabled:C.length>0,variant:"contained",color:"primary",size:"large",children:"Confirm"}),Object(S.jsx)(y.a,{onClick:function(){return s(!1)},variant:"outlined",color:"primary",size:"large",children:"Cancel"})]})]})}),Object(S.jsx)(Ke,{open:F,onChangeRegisterSuccessPopupState:function(e){return M(e)}}),Object(S.jsx)(Je,{open:D,onChangeFailPopUpState:function(e){return B(e)},title:"Fail registration",description:"This is an error alert \u2014 check it out!"})]})},Qe=(n(184),function(e){var t=e.open,n=e.onChangeLogInPopupState,s=Object(C.g)(),a=Object(v.b)(),c=Object(r.useState)(!1),i=Object(l.a)(c,2),o=i[0],u=i[1],j=Object(r.useState)({login:"",password:""}),d=Object(l.a)(j,2),b=d[0],m=d[1],O=Object(r.useState)(!1),h=Object(l.a)(O,2),g=h[0],x=h[1],_=function(){var e=Object(E.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,Le.signInUser(b);case 3:(t=e.sent).isSuccess?(u(!1),a(W(Object(L.a)(Object(L.a)({},t.body),{},{isLogin:!0}))),m({login:"",password:""}),s.push("".concat(f,"/welcomePage")),n(!1)):(u(!1),x(!0));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){var t=e.target,n=t.value,s=t.name;m(Object(L.a)(Object(L.a)({},b),{},Object(T.a)({},s,n)))};return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(qe,{className:"LogInPopup",open:t,onClose:function(){return n(!1)},loading:o,children:Object(S.jsxs)("form",{children:[p.map((function(e){return Object(S.jsx)("div",{className:"LogInPopup__fieldContainer",children:Object(S.jsx)("label",{children:Object(S.jsx)(U.a,{className:"LogInPopup__field",defaultValue:b[e],onChange:N,name:e,type:"password"===e?"password":"text",label:e,variant:"outlined",size:"small"})})},e)})),Object(S.jsxs)(A.a,{className:"LogInPopup__actions",children:[Object(S.jsx)(y.a,{onClick:_,variant:"contained",color:"primary",size:"large",children:"Confirm"}),Object(S.jsx)(y.a,{onClick:function(){return n(!1)},variant:"outlined",color:"primary",size:"large",children:"Cancel"})]})]})}),Object(S.jsx)(Je,{open:g,onChangeFailPopUpState:function(e){return x(e)},title:"Fail Log In",description:"This is an error alert \u2014 check it out!"})]})}),Xe=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)(!1),c=Object(l.a)(a,2),i=c[0],o=c[1];return Object(S.jsxs)("div",{className:"startPage page__content",children:[Object(S.jsx)(P,{}),Object(S.jsx)(y.a,{onClick:function(){return s(!0)},variant:"contained",color:"primary",size:"large",children:"Sign up"}),Object(S.jsx)(y.a,{onClick:function(){return o(!0)},variant:"contained",color:"primary",size:"large",children:"Log in"}),Object(S.jsx)(We,{open:n,onChangeRegisterPopupState:function(e){return s(e)}}),Object(S.jsx)(Qe,{open:i,onChangeLogInPopupState:function(e){return o(e)}})]})},Ze=(n(185),n(276));function $e(e,t){return Object(L.a)(Object(L.a)({},e),{},{isScrum:t})}n(186);var et=n(277),tt=n(127),nt=n.n(tt);var st={getUserByLogin:function(e,t){return e.players.find((function(e){return e.login==t}))}},at=(n(187),function(e){var t,n=N((function(e){return e.userInfo.login})),s=N((function(e){return e.roomInfo})),a=st.getUserByLogin(s,e.login),c=null===a||void 0===a?void 0:a.isScrum,r=e.avatar,i=e.firstName,o=e.lastName,l=e.jobPosition;void 0!==r&&""!==r||(t=i[0],void 0!==o&&""!==o&&(t+=o[0]));var u=function(){var t={whoKick:e.login,amountAgree:0,isVoiting:!1,message:"kick",whoOffer:n};Le.kickPlayer(t)},j=c||e.isScrum?Object(S.jsx)("div",{style:{width:"10px",height:"40px"}}):Object(S.jsx)(et.a,{children:Object(S.jsx)(nt.a,{onClick:u})});return Object(S.jsxs)("div",{className:"PlayerCard",children:[Object(S.jsx)(O.a,{className:"PlayerCard_avatar",src:r,children:t}),Object(S.jsxs)("div",{className:"PlayerCard_info",children:[Object(S.jsxs)("div",{className:"PlayerCard_info__name",children:[i," ",o]}),Object(S.jsx)("div",{className:"PlayerCard_info__position",children:l})]}),j]})}),ct=(n(189),n(128)),rt=n.n(ct),it=(n(190),function(e){var t=e.classes,n=e.children;return Object(S.jsx)("div",{className:"".concat(t," Issue"),children:n})}),ot=function(e){var t=N((function(e){return e.userInfo})),n=t.isScrum,s=e.title,a=e.priority,c=e.score,r=e.isActive,i=e.isVoting,o=e.link;return Object(S.jsxs)(it,{classes:"GameIssue".concat(i?" GameIssue_voting":r?" GameIssue_active":""),children:[Object(S.jsxs)("div",{className:"Issue__info",children:[i&&Object(S.jsx)("span",{children:"Current"}),Object(S.jsx)("a",{className:"Issue__title",href:o,target:"_blank",children:s}),Object(S.jsx)("span",{className:"Issue__priority",children:a})]}),c?Object(S.jsx)("span",{className:"GameIssue__score",children:c?"\u2705":"\ud83d\uded1"}):null,n&&Object(S.jsx)(et.a,{children:Object(S.jsx)(rt.a,{onClick:function(){Le.deleteIssue(e.id)}})})]})},lt=function(e){var t=e.target;if(t.classList.contains("draggable")){var n=e.clientX-t.getBoundingClientRect().left,s=e.clientY-t.getBoundingClientRect().top;a(e.pageX,e.pageY),document.addEventListener("mousemove",c),t.onmouseup=function(){document.removeEventListener("mousemove",c),t.onmouseup=null},t.ondragstart=function(){return!1}}function a(e,a){t.style.left=e-n+"px",t.style.top=a-s+"px"}function c(e){a(e.pageX,e.pageY)}},ut=n(130),jt=n.n(ut),dt=n(131),bt=n.n(dt),mt=n(292),Ot=function(e){var t,n=N((function(e){return e.roomInfo})),s=st.getUserByLogin(n,e.messageInfo.login),a=s.firstName,c=s.lastName,r=s.avatar,i=s.jobPosition;return void 0!==r&&""!==r||void 0===a||(t=a[0],void 0!==c&&""!==c&&(t+=c[0])),console.log(e),Object(S.jsxs)("li",{className:"Chat_message",children:[Object(S.jsx)("div",{className:"Chat_message__text",children:e.messageInfo.message}),Object(S.jsx)(mt.a,{title:Object(S.jsxs)("div",{style:{textAlign:"center"},children:[a," ",c,Object(S.jsx)("br",{}),i]}),children:Object(S.jsx)(O.a,{className:"Chat_message__avatar",src:r,children:t})})]})};n(191);function ft(e){return Object(S.jsx)("li",{className:"technical__message",children:e.message})}var pt=function(){var e=N((function(e){return e.chat})),t=N((function(e){return e.userInfo}));return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(et.a,{className:"Chat__hide-btn",onClick:function(e){var t;null===(t=document.querySelector(".Chat"))||void 0===t||t.classList.toggle("Chat__hidden")},children:Object(S.jsx)(jt.a,{})}),Object(S.jsxs)("div",{className:"Chat draggable",onMouseDown:lt,children:[Object(S.jsx)("ul",{className:"Chat_messages",children:e.map((function(e){return e.login?Object(S.jsx)(Ot,{messageInfo:e}):Object(S.jsx)(ft,{isTechnicalMessage:!0,message:String(e)})}))}),Object(S.jsxs)("div",{className:"Chat_input",children:[Object(S.jsx)("input",{placeholder:"Type something...",className:"Chat_input__text"}),Object(S.jsx)(et.a,{onClick:function(e){var n,s=null===(n=e.target.closest(".Chat"))||void 0===n?void 0:n.querySelector(".Chat_input__text"),a=s.value;if(a){var c=function(e,t){return{login:e,message:t}}(t.login,a);Le.sendChatMessage(c),s.value=""}},className:"Chat_input__button",children:Object(S.jsx)(bt.a,{})})]})]})]})};function ht(e){var t=N((function(e){return e.userInfo.isScrum}));return Object(S.jsxs)("li",{className:"queue__person",children:[t?Object(S.jsx)("button",{className:"queue__addBtn",onClick:function(){Le.movePlayerFromQueueToGame(e.login)},children:"+"}):Object(S.jsx)(S.Fragment,{}),Object(S.jsx)(at,Object(L.a)({},e))]})}n(192);var gt=n(278);function xt(){var e=N((function(e){return e.roomInfo}));return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(et.a,{className:"queue__hide-btn",onClick:function(e){var t;null===(t=document.querySelector(".queue"))||void 0===t||t.classList.toggle("queue__hidden")},children:Object(S.jsx)(gt.a,{})}),Object(S.jsxs)("ul",{className:"queue draggable",onMouseDown:lt,children:[Object(S.jsx)("div",{className:"queue__close"}),e.queue.map((function(e){return Object(S.jsx)(ht,Object(L.a)({},e))}))]})]})}n(193);var _t=function(e){var t=e.value,n=N((function(e){return e.game})),s=n.issuesInfo,a=n.isVoting,c=N((function(e){return e.userInfo})),r=c.login,i=N((function(e){return e.settings.shortScoreType}));return Object(S.jsx)("div",{onClick:function(){if(a){var t=s.find((function(e){return e.isSelected}));if(t){var n={issueId:t.issue.id,login:r,score:e.value};Le.makeChoice(n)}}},className:"card-container",children:Object(S.jsxs)("div",{className:"GameCard",children:[Object(S.jsxs)("div",{className:"GameCard_front",children:[Object(S.jsx)("div",{className:"GameCard_type",children:i}),Object(S.jsx)("div",{className:"GameCard_value",children:t}),Object(S.jsx)("div",{className:"GameCard_type GameCard_type__reverse",children:i})]}),Object(S.jsx)("div",{className:"GameCard_back"})]})})};n(117);function vt(e){var t,n=N((function(e){return e.game})),s=N((function(e){return e.settings.shortScoreType})),a=N((function(e){return e.userInfo.isScrum})),c=null===(t=e.currentIssueInfo.votes.find((function(t){return t.login===e.userInfo.login})))||void 0===t?void 0:t.score;return a?Object(S.jsxs)("li",{className:"votes__item",children:[Object(S.jsx)("div",{className:"votes__score",children:c||"In progress"}),Object(S.jsx)(at,Object(L.a)({},e.userInfo))]}):Object(S.jsxs)("li",{className:"votes__item",children:[n.isVoting?Object(S.jsx)(S.Fragment,{}):Object(S.jsx)("div",{className:"votes__score",children:"".concat(c," ").concat(s)||"In progress"}),Object(S.jsx)(at,Object(L.a)({},e.userInfo))]})}function Nt(){var e=N((function(e){return e.game})),t=e.issuesInfo.find((function(e){return e.isSelected}));return t?Object(S.jsx)("ul",{className:"votes",children:e.players.map((function(e){return Object(S.jsx)(vt,{userInfo:e,currentIssueInfo:t})}))}):Object(S.jsx)("ul",{className:"votes"})}n(194),n(195);var St=function(e){var t=e.classes,n=e.children;return Object(S.jsxs)("div",{className:"".concat(t," RoundTime"),children:[Object(S.jsxs)("div",{className:"RoundTime__header",children:[Object(S.jsx)("span",{children:"minutes"}),Object(S.jsx)("span",{children:"seconds"})]}),Object(S.jsx)("div",{className:"RoundTime__container",children:n})]})},It=function(){var e=N((function(e){return e.game})),t=e.isVoting,n=N((function(e){return e.settings})),s=n.roundTime,a=s,c=Object(r.useState)(s),i=Object(l.a)(c,2),o=i[0],u=i[1];Object(r.useEffect)((function(){t&&(a=s,u(s));var e=function e(){t&&(--a,u(a),a>0&&setTimeout((function(){return e()}),1e3))};setTimeout((function(){return e()}),1e3)}),[t,u]);return Object(S.jsxs)(St,{classes:"RoundTimePlayable",children:[Object(S.jsx)("span",{className:"RoundTime__time",children:Math.floor(o/60)}),":",Object(S.jsx)("span",{className:"RoundTime__time",children:function(){var e=o%60;return e<10?"0".concat(e):e}()})]})},Ct=(n(196),n(132)),yt=n.n(Ct),kt=(n(197),n(198),n(274)),Pt=n(284),Tt=n(293),Rt=function(e){var t=e.classes,n=e.open,s=e.onChangePopupState,a=e.issue,c=Object(r.useState)(!1),i=Object(l.a)(c,2),o=i[0],u=i[1],j=Object(r.useState)(a.title),d=Object(l.a)(j,2),b=d[0],m=d[1],O=Object(r.useState)(a.link),f=Object(l.a)(O,2),p=f[0],h=f[1],g=Object(r.useState)(a.priority),x=Object(l.a)(g,2),_=x[0],v=x[1];return Object(S.jsx)(qe,{className:"".concat(t," IssuePopup"),open:n,onClose:function(){return s(!1)},loading:o,children:Object(S.jsxs)("form",{children:[Object(S.jsx)("h3",{className:"IssuePopup__title",children:"CreateIssuePopup"===t?"Create Issue":"Update Issue"}),Object(S.jsxs)("label",{className:"IssuePopup__box",children:[Object(S.jsx)("span",{className:"IssuePopup__boxTitle",children:"Title:"}),Object(S.jsx)(U.a,{className:"IssuePopup__field",defaultValue:b,onChange:function(e){return m(e.target.value)},name:"title",variant:"outlined",size:"small"})]}),Object(S.jsxs)("label",{className:"IssuePopup__box",children:[Object(S.jsx)("span",{className:"IssuePopup__boxTitle",children:"Link:"}),Object(S.jsx)(U.a,{className:"IssuePopup__field",defaultValue:p,onChange:function(e){return h(e.target.value)},name:"link",variant:"outlined",size:"small"})]}),Object(S.jsxs)("label",{className:"IssuePopup__box",children:[Object(S.jsx)("span",{className:"IssuePopup__boxTitle",children:"Priority:"}),Object(S.jsx)(kt.a,{children:Object(S.jsxs)(Pt.a,{className:"IssuePopup__select",value:_,onChange:function(e){return v(e.target.value)},name:"priority",children:[Object(S.jsx)(Tt.a,{value:"low",children:"Low"}),Object(S.jsx)(Tt.a,{value:"middle",children:"Middle"}),Object(S.jsx)(Tt.a,{value:"hight",children:"Hight"})]})})]}),Object(S.jsxs)(A.a,{className:"IssuePopup__btns",children:[Object(S.jsx)(y.a,{onClick:function(){u(!0),"CreateIssuePopup"===t?Le.makeIssue({title:b,priority:_,link:p,id:String(ke(b)+Date.now())}):Le.updateIssue(Object(L.a)(Object(L.a)({},a),{},{title:b,priority:_,link:p})),u(!1),s(!1),"CreateIssuePopup"===t&&(m(""),h(""),v("low"))},variant:"contained",color:"primary",size:"large",children:"Confirm"}),Object(S.jsx)(y.a,{onClick:function(){return s(!1)},variant:"outlined",color:"primary",size:"large",children:"Cancel"})]})]})})},Gt=function(e){return Object(S.jsx)(Rt,Object(L.a)({classes:"CreateIssuePopup",issue:x},e))},wt=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1];return Object(S.jsxs)(it,{classes:"CreateIssue",children:[Object(S.jsx)("div",{className:"Issue__info",children:Object(S.jsx)("h4",{className:"Issue__title",children:"Crete new Issue"})}),Object(S.jsx)(et.a,{onClick:function(){return s(!0)},children:Object(S.jsx)(yt.a,{})}),Object(S.jsx)(Gt,{open:n,onChangePopupState:function(e){return s(e)}})]})};n(199);var Et=function(){return Object(S.jsxs)("div",{className:"AboutPage",children:[Object(S.jsx)("div",{className:"AboutPage_logo"}),Object(S.jsx)("div",{className:"AboutPage_text",children:"Planning poker, also called Scrum poker, is a consensus-based, gamified technique for estimating, mostly used for timeboxing in Agile principles. In planning poker, members of the group make estimates by playing numbered cards face-down to the table, instead of speaking them aloud. The cards are revealed, and the estimates are then discussed. By hiding the figures in this way, the group can avoid the cognitive bias of anchoring, where the first number spoken aloud sets a precedent for subsequent estimates."})]})};function Lt(e){var t;return Object(S.jsxs)("li",{className:"statistics__item",children:[Object(S.jsx)(_t,{value:e.cardInfo.value}),Object(S.jsxs)("span",{children:[Ut((null===(t=e.currentIssue)||void 0===t?void 0:t.votes.map((function(e){return e.score})))||[],e.cardInfo.value),"%"]})]})}function Ut(e,t){var n=0;return e.forEach((function(e){e==t&&n++})),Math.floor(n/e.length*1e4)/100}n(200);function Vt(e){var t=N((function(e){return e.game.issuesInfo})),n=t.find((function(t){return t.issue.id===e.issueId})),s=N((function(e){return e.settings})),a=s.shortScoreType;return Object(S.jsxs)("li",{className:"statistics__item",children:[Object(S.jsxs)("h2",{className:"statistics__issueInfo",children:["issue Id: ",null===n||void 0===n?void 0:n.issue.id]}),Object(S.jsx)("ul",{className:"statistics__inner",children:null===n||void 0===n?void 0:n.votes.map((function(e){return 0!==(null===n||void 0===n?void 0:n.votes.length)?Object(S.jsx)(Lt,{cardInfo:{type:a,value:e.score},currentIssue:n}):Object(S.jsx)(S.Fragment,{})}))})]})}n(201);var At=["component","authed"],Ft=function(e){var t=e.component,n=e.authed,s=Object(ze.a)(e,At),a=t;return Object(S.jsx)(C.b,Object(L.a)(Object(L.a)({},s),{},{render:function(e){return!0===n?Object(S.jsx)(a,Object(L.a)({},e)):Object(S.jsx)(C.a,{to:{pathname:f,state:{from:e.location}}})}}))},Mt=function(e){var t=N((function(e){return e.userInfo.login})),n=e.message,s=e.whoOffer,a=e.whoKick,c=e.votes,r=!1;return null===c||void 0===c||c.forEach((function(e){t===e.login&&null===e.conclusion&&(r=!0)})),t!==a&&t!==s||(r=!1),Object(S.jsxs)("li",{className:"KickPlayerPopUp",children:[Object(S.jsxs)("p",{className:"KickPlayerPopUp__title",children:[s," offers kick player ",a]}),Object(S.jsxs)("p",{className:"KickPlayerPopUp__text",children:["amountAgree: ",e.amountAgree," / ",null===c||void 0===c?void 0:c.length]}),Object(S.jsx)("p",{className:"KickPlayerPopUp__text",children:n}),r?Object(S.jsxs)(A.a,{className:"KickPlayerPopUp__btns",children:[Object(S.jsx)(y.a,{onClick:function(){return Le.setKickConclusion(!0,t,a)},variant:"contained",color:"primary",size:"large",children:"Yes"}),Object(S.jsx)(y.a,{onClick:function(){return Le.setKickConclusion(!1,t,a)},variant:"outlined",color:"primary",size:"large",children:"No"})]}):Object(S.jsx)(S.Fragment,{})]})};n(202);function Kt(){var e=N((function(e){return e.voting}));return Object(S.jsx)("ul",{className:"KickPlayer__container draggable",onMouseDown:lt,children:0!==(null===e||void 0===e?void 0:e.length)?e.map((function(e){return Object(S.jsx)(Mt,Object(L.a)({},e))})):null})}n(203);var zt=function(e){var t=e.title,n=e.priority,s=e.link;e.id;return Object(S.jsx)(it,{classes:"IssueEditable IssueNonEditable",children:Object(S.jsxs)("div",{className:"Issue__info",children:[Object(S.jsx)("a",{className:"Issue__title",href:s,target:"_blank",children:t}),Object(S.jsx)("span",{className:"Issue__priority",children:n})]})})},Dt=(n(204),function(){var e=N((function(e){return e.roomInfo})),t=N((function(e){return e.userInfo})),n=Object(v.b)(),s=Object(C.g)();Le.setDispatch(n),Le.setRouter(s);return Object(S.jsxs)("div",{className:"Lobby__main",children:[Object(S.jsx)(pt,{}),Object(S.jsx)(xt,{}),Object(S.jsx)(Kt,{}),Object(S.jsxs)("div",{className:"Lobby__master",children:[Object(S.jsx)("div",{className:"Lobby__master_title",children:"Scrum master:"}),Object(S.jsx)("div",{onClick:function(){Le.startGame()},className:"Lobby__start-btn",children:Object(S.jsx)("div",{})}),Object(S.jsx)(at,Object(L.a)(Object(L.a)({},e.scrumInfo),{},{avatar:e.scrumInfo.avatar})),Object(S.jsx)("div",{className:"Lobby__exit-btn",children:Object(S.jsx)("div",{onClick:function(){Le.disconect(t,e.roomId,"user ".concat(t.login," disconnect the room")),n(le()),n(q()),s.push("".concat(f,"/welcomePage"))}})})]}),Object(S.jsxs)("div",{className:"Lobby__issues",children:[t.isScrum&&Object(S.jsx)(wt,{}),0!==e.issues.length&&e.issues.map((function(e){return Object(S.jsx)(zt,Object(L.a)({},e))}))]}),Object(S.jsx)("h1",{children:e.roomUrl}),Object(S.jsxs)("div",{className:"Lobby__members",children:[Object(S.jsx)("div",{className:"Lobby__members_title",children:"Members:"}),Object(S.jsx)("div",{className:"Lobby__members_cards",children:e.inGame.map((function(e){return Object(S.jsx)(at,Object(L.a)(Object(L.a)({},e),{},{avatar:e.avatar}))}))})]})]})}),Bt=n(294),qt=(n(205),n(283)),Ht=function(e){var t=e.open,n=e.onSetOpen,s=e.text;return Object(S.jsx)(qt.a,{open:t,autoHideDuration:6e3,onClose:function(){return n(!1)},children:Object(S.jsx)(He.a,{onClose:function(){return n(!1)},severity:"success",children:s})})},Yt=(n(206),function(e){var t=e.value,n=t,s=N((function(e){return e.settings.shortScoreType})),a=Object(v.b)();return Object(S.jsx)("div",{className:"card-container CardEditable",children:Object(S.jsxs)("div",{className:"GameCard",children:[Object(S.jsxs)("div",{className:"GameCard_front",children:[Object(S.jsx)("div",{className:"GameCard_type",children:s}),Object(S.jsx)("input",{className:"GameCard_value-input",defaultValue:t,onChange:function(){a(pe({currentValue:n,value:t}))}}),Object(S.jsx)("div",{className:"GameCard_type GameCard_type__reverse",children:s})]}),Object(S.jsx)("div",{className:"GameCard_back"})]})})}),Jt=n(279),Wt=(n(207),function(e){var t=e.open,n=e.onChangePopupState,s=Object(r.useState)(!1),a=Object(l.a)(s,2),c=a[0],i=a[1],o=Object(v.b)(),u=Object(r.useState)(),j=Object(l.a)(u,2),d=j[0],b=j[1];return Object(S.jsx)(qe,{className:"IssuePopup",open:t,onClose:function(){return n(!1)},loading:c,children:Object(S.jsxs)("form",{children:[Object(S.jsx)("h3",{className:"IssuePopup__title",children:"Card"}),Object(S.jsxs)("label",{className:"IssuePopup__box",children:[Object(S.jsx)("span",{className:"IssuePopup__boxTitle",children:"Value:"}),Object(S.jsx)(U.a,{className:"IssuePopup__field",defaultValue:d,onChange:function(e){return b(e.target.value)},name:"title",variant:"outlined",size:"small"})]}),Object(S.jsxs)(A.a,{className:"IssuePopup__btns",children:[Object(S.jsx)(y.a,{onClick:function(){i(!0),i(!1),n(!1),o(fe(d))},variant:"contained",color:"primary",size:"large",children:"Confirm"}),Object(S.jsx)(y.a,{onClick:function(){return n(!1)},variant:"outlined",color:"primary",size:"large",children:"Cancel"})]})]})})}),Qt=function(e){return Object(S.jsx)(Wt,Object(L.a)({},e))},Xt=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1];return Object(S.jsxs)("div",{className:"card-container",children:[Object(S.jsx)("div",{className:"GameCard",children:Object(S.jsx)("div",{className:"GameCard_front",children:Object(S.jsx)("div",{className:"GameCard_add",children:Object(S.jsx)(et.a,{onClick:function(){return s(!0)},children:Object(S.jsx)(Jt.a,{fontSize:"large"})})})})}),Object(S.jsx)(Qt,{open:n,onChangePopupState:s})]})},Zt=(n(208),function(e){var t=e.cards;N((function(e){return e.settings}));return Object(S.jsx)("div",{className:"CardSettings",children:Object(S.jsxs)("div",{className:"CardSettings__wrapper",children:[Object(S.jsx)("div",{className:"CardSettings__cards",children:t.map((function(e){return Object(S.jsx)(Yt,{value:e})}))}),Object(S.jsx)("div",{className:"CardSettings__add",children:Object(S.jsx)(Xt,{})})]})})}),$t=(n(209),function(e){var t=e.seconds,n=e.setSeconds,s=e.minutes,a=e.setMinutes,c=function(e){var t=e.e,n=e.changeState,s=t.target.value;s.length>2||n(+s)};return Object(S.jsxs)(St,{classes:"RoundTimeEditable",children:[Object(S.jsx)("input",{className:"RoundTime__time",value:s,onChange:function(e){return c({e:e,changeState:a})},type:"number",min:"0"}),":",Object(S.jsx)("input",{className:"RoundTime__time",value:t,onChange:function(e){return c({e:e,changeState:n})},type:"number",min:"0",max:"59"})]})}),en=(n(210),function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)(!1),c=Object(l.a)(a,2),i=c[0],o=c[1],u=Object(r.useState)(!1),j=Object(l.a)(u,2),d=j[0],b=j[1],m=Object(r.useState)("Story Points"),O=Object(l.a)(m,2),f=O[0],p=O[1],h=Object(r.useState)("SP"),g=Object(l.a)(h,2),x=g[0],_=g[1],I=Object(r.useState)(40),C=Object(l.a)(I,2),y=C[0],k=C[1],P=Object(r.useState)(0),T=Object(l.a)(P,2),R=T[0],G=T[1],w=N((function(e){return e.settings.cards})),E=Object(v.b)(),L=Object(r.useState)(!1),V=Object(l.a)(L,2),A=V[0],F=V[1],M=N((function(e){return e.roomInfo}));M.issues;return Object(S.jsxs)("div",{className:"GameSettings",children:[Object(S.jsx)("h3",{className:"GameSettings__title",children:"Game Settings"}),Object(S.jsxs)("div",{className:"GameSettings__wrapper",children:[Object(S.jsxs)("div",{className:"GameSettings__main",children:[Object(S.jsxs)("div",{className:"GameSettings__element",children:[Object(S.jsx)("div",{className:"GameSettings__element_title",children:"Scrum master as player:"}),Object(S.jsx)(Bt.a,{onChange:function(){s(!n)}})]}),Object(S.jsxs)("div",{className:"GameSettings__element",children:[Object(S.jsx)("div",{className:"GameSettings__element_title",children:"Changing card in round end:"}),Object(S.jsx)(Bt.a,{onChange:function(){o(!i)}})]}),Object(S.jsxs)("div",{className:"GameSettings__element",children:[Object(S.jsx)("div",{className:"GameSettings__element_title",children:"Is timer needed:"}),Object(S.jsx)(Bt.a,{onChange:function(){b(!d)}})]}),Object(S.jsxs)("div",{className:"GameSettings__element",children:[Object(S.jsx)("div",{className:"GameSettings__element_title",children:"Score type:"}),Object(S.jsx)(U.a,{defaultValue:"Story Points",onChange:function(e){p(e.target.value)}})]}),Object(S.jsxs)("div",{className:"GameSettings__element",children:[Object(S.jsx)("div",{className:"GameSettings__element_title",children:"Score type(short):"}),Object(S.jsx)(U.a,{defaultValue:"SP",onChange:function(e){var t=e.target.value;E(he(t)),_(t)}})]}),Object(S.jsxs)("div",{className:"GameSettings__element",children:[Object(S.jsx)("div",{className:"GameSettings__element_title",children:"Round time:"}),Object(S.jsx)($t,{seconds:y,setSeconds:k,minutes:R,setMinutes:G})]}),Object(S.jsx)("button",{className:"GameSettings__save",onClick:function(){var e={autoTurn:i,masterAsPlayer:n,roundTime:60*R+y,scoreType:f,shortScoreType:x,timerNeeded:d,cards:w};Le.setSettings(e),F(!0)},children:"save"})]}),Object(S.jsx)(Zt,{cards:w})]}),Object(S.jsx)(Ht,{open:A,onSetOpen:F,text:"Settings successfully saved!"})]})}),tn=function(){N((function(e){return e.roomInfo.roomUrl}));return Object(S.jsxs)("div",{className:"Settings",children:[Object(S.jsx)("div",{className:"Settings__connect"}),Object(S.jsx)(en,{})]})},nn=(n(211),function(){var e,t,n=N((function(e){return e.userInfo.isScrum}));return n?(e=Object(S.jsx)(m.b,{to:"/lobby/settings",className:"Lobby__link",children:"Settings"}),t={}):(e=null,t={justifyContent:"center"}),Object(S.jsx)("div",{className:"Lobby",children:Object(S.jsxs)("div",{className:"Lobby__wrapper",children:[Object(S.jsxs)("div",{className:"Lobby__routing",style:t,children:[Object(S.jsx)(m.b,{to:"/lobbyStart",className:"Lobby__link",children:"Lobby"}),e]}),Object(S.jsx)(C.b,{exact:!0,path:"/lobbyStart",children:Object(S.jsx)(Dt,{})}),Object(S.jsx)(C.b,{exact:!0,path:"/lobby/settings",children:Object(S.jsx)(tn,{})})]})})}),sn=[{path:"".concat(f,"/welcomePage"),Component:function(){var e=N((function(e){return e.userInfo})),t=(N((function(e){return e.roomInfo})),Object(r.useState)("")),n=Object(l.a)(t,2),s=n[0],a=n[1],c=Object(C.g)(),i=Object(v.b)();Le.setDispatch(i);return Object(S.jsxs)("div",{className:"welcome-page page__content",children:[Object(S.jsx)(P,{}),Object(S.jsx)("span",{className:"welcome-page__subtitle",children:"Start your planning:"}),Object(S.jsxs)(Ze.a,{className:"welcome-page__control-block",container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(S.jsx)("span",{className:"welcome-page__control-block-text",children:"Create session:"}),Object(S.jsx)(y.a,{className:"welcome-page__control-block-btn",variant:"contained",color:"primary",size:"large",onClick:function(){i(Q(!0));var t=$e(e,!0);Le.makeNewRoom(t),c.push("".concat(f,"/lobbyStart"))},children:"Start new game"})]}),Object(S.jsx)("span",{className:"welcome-page__subtitle welcome-page__subtitle_margin_left",children:"OR:"}),Object(S.jsxs)("div",{className:"welcome-page__control-block",children:[Object(S.jsxs)("span",{className:"welcome-page__control-block-text welcome-page__control-block-text_block",children:["Connect to lobby by ",Object(S.jsx)("strong",{className:"welcome-page__control-block-subtext",children:"URL"}),":"]}),Object(S.jsxs)(Ze.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(S.jsx)(U.a,{className:"welcome-page__control-block-field",variant:"outlined",size:"small",value:s,onChange:function(e){return a(e.target.value)}}),Object(S.jsx)(y.a,{className:"welcome-page__control-block-btn",variant:"contained",color:"primary",size:"large",onClick:function(){i(Q(!1));var t=$e(e,!1),n=function(e){var t=e.split("/");return t[t.length-1]}(s);Le.connectToRoom(t,n),c.push("".concat(f,"/lobbyStart"))},children:"Connect"})]})]})]})}},{path:"".concat(f,"/planning-poker/lobbyStart"),Component:nn},{path:"".concat(f,"/planning-poker/lobby/settings"),Component:nn},{path:"".concat(f,"/planning-poker/game"),Component:function(){var e=N((function(e){return e.userInfo})),t=N((function(e){return e.roomInfo})),n=t.scrumInfo,s=t.roomId,a=t.queue,c=N((function(e){return e.game})),i=c.issuesInfo,o=c.isVoting,u=Object(v.b)(),j=Object(C.g)(),d=e.isScrum,b=N((function(e){return e.settings.cards})),m=N((function(e){return e.settings})),O=m.timerNeeded,p=m.masterAsPlayer,h=Object(r.useState)(!0),g=Object(l.a)(h,2),x=g[0],_=g[1];Object(r.useEffect)((function(){_(function(e,t){for(var n=0;n<e.length;n++)if(e[n].login===t)return!0;return!1}(a,e.login))}),[a]);return Object(S.jsxs)("div",{className:"Game page__content",children:[d?Object(S.jsx)(xt,{}):Object(S.jsx)(S.Fragment,{}),Object(S.jsx)(pt,{}),Object(S.jsxs)("div",{className:"Game__main",children:[Object(S.jsx)("h2",{className:"Game__title",children:"Some random game name"}),Object(S.jsxs)("div",{className:"Game__topPanel",children:[Object(S.jsxs)("div",{className:"Game__master",children:[Object(S.jsx)("span",{className:"Game__masterTitle",children:"Scrum master:"}),Object(S.jsx)(at,Object(L.a)(Object(L.a)({},n),{},{avatar:n.avatar||"./logo192.png",login:""}))]}),d?Object(S.jsx)(y.a,{className:"Game__stopBtn",onClick:function(){Le.stopGame()},variant:"outlined",color:"primary",size:"large",children:"Stop Game"}):Object(S.jsxs)(S.Fragment,{children:[O?Object(S.jsx)(It,{}):Object(S.jsx)(S.Fragment,{}),Object(S.jsx)(y.a,{className:"Game__exitBtn",onClick:function(){Le.disconect(e,s,"user ".concat(e.login," disconnect the room")),u(le()),u(q()),j.push("".concat(f,"/welcomePage"))},variant:"outlined",color:"primary",size:"large",children:"Exit"})]})]}),Object(S.jsxs)("div",{className:"Game__playground",children:[Object(S.jsxs)("div",{className:"Game__dashboardLeft",children:[i.length?Object(S.jsxs)("div",{className:"Game__issues",children:[Object(S.jsx)("h3",{className:"Game__issuesTitle Game__subtitle",children:"Issues:"}),Object(S.jsxs)("ul",{className:"Game__issuesContainer",children:[i.map((function(e){return Object(S.jsx)("li",{onClick:function(){return t=e.issue.id,void(d&&(i.find((function(e){return e.isVoting}))||Le.selectIssue(t)));var t},children:Object(S.jsx)(ot,Object(L.a)(Object(L.a)({},e.issue),{},{isActive:e.isSelected,isVoting:e.isVoting,score:e.result}))},e.issue.id)})),d&&Object(S.jsx)(wt,{})]})]}):null,d&&Object(S.jsxs)("div",{className:"Game__statistics",children:[Object(S.jsx)("h3",{className:"Game__subtitle",children:"Statistics:"}),Object(S.jsx)("div",{className:"Game__statisticsContainer"})]})]}),d&&Object(S.jsx)("div",{className:"Game__dashboardRight",children:Object(S.jsxs)(S.Fragment,{children:[O?Object(S.jsx)(It,{}):Object(S.jsx)(S.Fragment,{}),Object(S.jsxs)("div",{className:"Game__playgroundBtns",children:[!o&&Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(y.a,{className:"Game__runRoundBtn",onClick:function(){var e=i.find((function(e){return e.isSelected}));e?Le.startVoteIssue(e.issue.id):alert("\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 issue")},variant:"contained",color:"primary",size:"large",children:"Run round"}),Object(S.jsx)(y.a,{className:"Game__restartRoundBtn",onClick:function(){var e=i.find((function(e){return e.isSelected}));e?Le.resetVoteIssue(e.issue.id):alert("\u043d\u0435\u0447\u0435\u0433\u043e \u0441\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u0442\u044c :(")},variant:"contained",color:"primary",size:"large",children:"Restart round"})]}),o&&Object(S.jsx)(y.a,{className:"Game__nextIssueBtn",onClick:function(){var e=i.find((function(e){return e.isSelected}));e&&Le.stopVoteIssue(e.issue.id)},variant:"contained",color:"primary",size:"large",children:"Stop round"})]})]})})]}),Object(S.jsx)("div",{className:"Game__cards",children:x?Object(S.jsx)(S.Fragment,{}):d?p?b.map((function(e){return Object(S.jsx)(_t,{value:e})})):Object(S.jsx)(S.Fragment,{}):b.map((function(e){return Object(S.jsx)(_t,{value:e})}))})]}),Object(S.jsx)(Nt,{})]})}},{path:"".concat(f,"/planning-poker/statistics"),Component:function(){var e=N((function(e){return e.game.issuesInfo}));return Object(S.jsxs)("div",{className:"statisticsPage",children:[Object(S.jsx)("div",{className:"statistics__title",children:"Statistics"}),Object(S.jsx)("ul",{className:"statistics__wrapper",children:e.map((function(e){return Object(S.jsx)(Vt,{issueId:e.issue.id})}))})]})}}];function an(){var e=N((function(e){return e.userInfo})).isLogin;return Object(S.jsxs)(C.d,{children:[Object(S.jsx)(C.b,{path:f,component:Xe,exact:!0}),Object(S.jsx)(C.b,{path:"".concat(f,"/about"),component:Et,exact:!0}),sn.map((function(t){var n=t.path,s=t.Component;return Object(S.jsx)(Ft,{authed:e||!1,path:n,component:s,exact:!0},n)}))]})}n(212);var cn=n.p+"static/media/rsschool.fee9d91c.svg",rn=function(){return Object(S.jsx)("footer",{className:"Footer",children:Object(S.jsxs)("div",{className:"Footer__container",children:[Object(S.jsxs)("a",{className:"Footer__rss",href:"https://rs.school/js/",target:"_blank",rel:"noopener noreferrer",children:[Object(S.jsx)("img",{src:cn,alt:"RS School"}),Object(S.jsx)("span",{children:"'21"})]}),Object(S.jsx)("ul",{className:"Footer__githubList",children:_.map((function(e){return Object(S.jsx)("li",{children:Object(S.jsxs)("a",{href:"https://github.com/".concat(e),target:"_blank",rel:"noopener noreferrer",children:["\xa9",e]})},e)}))})]})})};var on=function(){var e=N((function(e){return e.userInfo})),t=Object(r.useState)(!1),n=Object(l.a)(t,2),s=n[0],a=n[1];return Object(r.useEffect)((function(){e.isLogin&&a(!0)}),[e.isLogin]),Object(S.jsxs)(u.a,{theme:d,children:[Object(S.jsx)(b.a,{}),Object(S.jsx)(m.a,{children:Object(S.jsxs)("div",{className:"App",children:[Object(S.jsx)(I,{}),Object(S.jsx)("main",{children:Object(S.jsx)(an,{})}),Object(S.jsx)(rn,{}),Object(S.jsx)(Ht,{open:s,onSetOpen:a,text:"You are successfully logged in!"})]})})]})},ln=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,296)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))},un=n(44),jn=Object(un.b)({userInfo:Y,roomInfo:re,chat:z,voting:_e,game:ee,settings:de}),dn=Object(F.a)({reducer:jn});o.a.render(Object(S.jsx)(v.a,{store:dn,children:Object(S.jsx)(on,{})}),document.getElementById("root")),ln()}},[[213,1,2]]]);
//# sourceMappingURL=main.dc66cb97.chunk.js.map