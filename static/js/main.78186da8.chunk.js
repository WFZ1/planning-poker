/*! For license information please see main.78186da8.chunk.js.LICENSE.txt */
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{117:function(e,t,n){},160:function(e,t,n){},161:function(e,t,n){},169:function(e,t,n){},176:function(e,t,n){},177:function(e,t,n){},179:function(e,t,n){},180:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){},191:function(e,t,n){},192:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){},195:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){},212:function(e,t,n){},213:function(e,t,n){"use strict";n.r(t);var s,a,c,r=n(0),i=n(16),o=n.n(i),l=(n(160),n(10)),u=(n(161),n(280)),j=n(133),d=Object(j.a)({breakpoints:{values:{"phone-sm":320,"phone-md":375,"phone-lg":425,"phone-xl":480,phone:640,tablet:768,lap:1024,desk:1200,widescreen:1440,fullhd:1920}},palette:{primary:{main:"#2b3a67"},secondary:{main:"#66999b"},avatar:"#60dabf"}}),b=(d.breakpoints,n(281)),m=n(54),O=n(290),f=n(25),p=f.c,h=(n(169),n(1)),g=function(){var e=p((function(e){return e.userInfo})),t=e.isLogin,n=e.avatar,s=e.firstName;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("header",{className:"Header",children:Object(h.jsxs)("div",{className:"Header_wrapper",children:[Object(h.jsx)("div",{className:"Header_logo"}),Object(h.jsx)(m.c,{to:"/welcomePage",className:"Header_link",children:"Home"}),Object(h.jsx)(m.c,{to:"/about",className:"Header_link",children:"About"}),t&&Object(h.jsx)(O.a,{src:n,children:s?s.length>1?"".concat(s[0]).concat(s[s.length-1]):"".concat(s[0]):null,alt:"Avatar"})]})})})},x=n(15),_=(n(176),n(267)),v=(n(177),n.p+"static/media/poker-cards.c0d532c4.svg"),N=function(){return Object(h.jsxs)("div",{className:"largeLogo",children:[Object(h.jsx)("img",{src:v,alt:"Poker cards"}),Object(h.jsxs)("div",{className:"largeLogo__title",children:[Object(h.jsx)("span",{children:"Poker"}),Object(h.jsx)("span",{children:"Planning"})]})]})},S=n(17),I=n(45),C=n(47),y=n.n(C),k=n(64),P=n(11),T=(n(179),n(287)),R=n(272),G=n(266),w=["login","password"],E=[{name:"login",title:"login",errorMessage:"Login can't be shorter than 3 chars and contain spaces."},{name:"password",title:"password",type:"password"},{name:"firstName",title:"first name"},{name:"lastName",title:"last name"},{name:"jobPosition",title:"job position"}],L={login:"",password:"",firstName:"",lastName:"",jobPosition:"",avatar:""},U={title:"",priority:"low",link:"",id:""},V=["WFZ1","JxmJuice","FURY-PERSON","bdvx"],A=n(36),F=[],M=Object(A.b)({name:"chatSlice",initialState:F,reducers:{newMessage:function(e,t){e.push(t.payload)},resetChat:function(){return F}}}),K=M.reducer,z=M.actions,D=z.newMessage,B=z.resetChat,q=Object(A.b)({name:"currentUserStore",initialState:{firstName:"",lastName:"",jobPosition:"",login:"",avatar:"",isLogin:!1,isScrum:!1},reducers:{setUserInfo:function(e,t){return t.payload},setScrumStatus:function(e,t){e.isScrum=t.payload},setCurrentUserScrumStatus:function(e){e.isScrum=!0}}}),H=q.reducer,Y=q.actions,J=Y.setUserInfo,W=Y.setScrumStatus,Q=Y.setCurrentUserScrumStatus,X={isVoting:!1,issuesInfo:[],players:[]},Z=Object(A.b)({name:"gameSlice",initialState:X,reducers:{setGame:function(e,t){return t.payload},resetGame:function(){return X}}}),$=Z.reducer,ee=Z.actions,te=ee.setGame,ne=ee.resetGame,se={players:[],queue:[],inGame:[],roomId:"",roomUrl:"",isPlaying:!1,isVoting:!1,amountAgreeWithKick:1,issues:[],scrumInfo:{firstName:"",isScrum:!0,jobPosition:"",lastName:"",login:"",avatar:""}},ae=Object(A.b)({name:"roomSlice",initialState:se,reducers:{setRoomInfo:function(e,t){return t.payload},resetRoomInfo:function(){return se}}}),ce=ae.reducer,re=ae.actions,ie=re.setRoomInfo,oe=re.resetRoomInfo,le={roundTime:40,timerNeeded:!1,autoTurn:!1,masterAsPlayer:!1,scoreType:"Story Points",shortScoreType:"SP",cards:["1","2","3","5","8","13","21","inf"]},ue=Object(A.b)({name:"settingsSlice",initialState:le,reducers:{setSettings:function(e,t){return t.payload},setTimer:function(e,t){e.roundTime=t.payload},addCard:function(e,t){e.cards.push(t.payload)},updateCard:function(e,t){var n=e.cards.findIndex((function(e){return e===t.payload.currentValue}));n&&(e.cards[n]=t.payload.value)},setCardType:function(e,t){e.shortScoreType=t.payload},resetSettings:function(){return le}}}),je=ue.reducer,de=ue.actions,be=de.setSettings,me=de.resetSettings,Oe=(de.setTimer,de.addCard),fe=de.updateCard,pe=de.setCardType,he=[],ge=Object(A.b)({name:"votingSlice",initialState:he,reducers:{updateVoits:function(e,t){return t.payload},resetVoits:function(){return he}}}),xe=ge.reducer,_e=ge.actions,ve=_e.updateVoits,Ne=_e.resetVoits;function Se(e){var t,n=JSON.parse(e).type,s=JSON.parse(e).payLoad;switch(n){case"UPDATE_ROOM":a(ie(s));break;case"ROOM_BUILD":a(ie(s)),a(Q()),a(Ne()),a(me());break;case"CHAT_MESSAGE":!function(e){a(D(e))}(s);break;case"START_GAME":a(te(s)),c.push("/game");break;case"STOP_GAME":t=s,c.push("/statistics"),alert(t);break;case"UPDATE_GAME":!function(e){a(te(e))}(s);break;case"YOU_ARE_KICKED":!function(e){c.push("/welcomePage"),a(oe()),alert(e)}(s);break;case"START_ISSUE_VOTE":!function(e){a(te(e))}(s);break;case"SET_SETTINGS":a(be(s));break;case"TOGGLE_TO_GAME":c.push("/game");break;case"UPDATE_KICK_VOTES":a(ve(s))}}var Ie={connectToRoom:function(e,t){a(B()),a(oe()),a(ne()),a(W(!1)),a(Ne()),(s=e).send(Ce("CONNECT_TO_ROOM",t)),s.onmessage=function(e){Se(e.data)}},sendChatMessage:function(e){var t=Ce("CHAT_MESSAGE",e);s.send(t)},makeNewRoom:function(e,t){a(B()),a(oe()),a(ne()),a(me()),s=e;var n=Ce("MAKE_NEW_LOBBY",t);s.send(n),s.onmessage=function(e){Se(e.data)}},setLobbyDispatch:function(e){a=e},disconectFromRoom:function(e){var t=Ce("DISCONNECT",e);s.send(t)},sendIssueToRoom:function(e){var t=Ce("NEW_ISSUE",e);s.send(t)},updateIssueInRoom:function(e){var t=Ce("UPDATE_ISSUE",e);s.send(t)},deleteIssue:function(e){var t=Ce("DELETE_ISSUE",e);s.send(t)},sendKickOfferToRoom:function(e){var t=Ce("KICK_PLAYER_OFFER",e);s.send(t)},sendKickConclusionToRoom:function(e,t,n){var a=Ce("AGREE_WITH_KICK",{kickedPlayerLogin:n,login:t,conclusion:e});s.send(a)},makeGameInRoom:function(){var e=Ce("MAKE_NEW_GAME","make new game");s.send(e)},movePlayerInRoom:function(e){var t=Ce("MOVE_FROM_QUEUE",e);s.send(t)},setLobbyRouter:function(e){c=e},sendChoiceToGame:function(e){var t=Ce("USER_MAKE_CHOICE",e);s.send(t)},startVoteIssueInRoom:function(e){var t=Ce("START_ISSUE_VOTE",e);s.send(t)},stopVoteIssueInRoom:function(e){var t=Ce("STOP_ISSUE_VOTE",e);s.send(t)},selectIssueInRoom:function(e){var t=Ce("SELECT_ISSUE",e);s.send(t)},stopGameInRoom:function(){var e=Ce("STOP_GAME","master stopped the game");s.send(e)},resetVoteIssueInRoom:function(e){var t=Ce("RESET_ISSUE_VOTE",e);s.send(t)},setSettingsInRoom:function(e){var t=Ce("SET_SETTINGS",e);s.send(t)}};function Ce(e,t){var n={type:e,payLoad:t};return JSON.stringify(n)}function ye(e){return e.split("").reduce((function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e}),0)}var ke,Pe="https://planing-poker-fury.herokuapp.com/",Te="wss://planing-poker-fury.herokuapp.com/";function Re(){return(Re=Object(k.a)(y.a.mark((function e(t){var n,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify(t),e.next=3,fetch(Pe+"regNewUser",{body:n,headers:{"Content-Type":"application/json"},method:"POST"}).then((function(e){return e.json()}));case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(){return(Ge=Object(k.a)(y.a.mark((function e(t){var n,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify(t),console.log(111,Pe+"singIn"),e.next=4,fetch(Pe+"singIn",{body:n,headers:{"Content-Type":"application/json"},method:"POST"}).then((function(e){return e.json()}));case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var we={setDispatch:function(e){e,Ie.setLobbyDispatch(e)},setRouter:function(e){e,Ie.setLobbyRouter(e)},registerNewUser:function(e){return Re.apply(this,arguments)},signInUser:function(e){return Ge.apply(this,arguments)},connectToRoom:function(e,t){var n={userInfo:e,roomId:t};(ke=new WebSocket(Te)).onopen=function(){!0,Ie.connectToRoom(ke,n)}},makeNewRoom:function(e){(ke=new WebSocket(Te)).onopen=function(){!0,Ie.makeNewRoom(ke,e)}},disconect:function(e,t,n){var s={login:e.login,reason:n||"",roomId:t};Ie.disconectFromRoom(s)},makeIssue:function(e){e.id=String(ye(e.title)),Ie.sendIssueToRoom(e)},updateIssue:function(e){Ie.updateIssueInRoom(e)},deleteIssue:function(e){Ie.deleteIssue(e)},kickPlayer:function(e){Ie.sendKickOfferToRoom(e)},setKickConclusion:function(e,t,n){Ie.sendKickConclusionToRoom(e,t,n)},startGame:function(){Ie.makeGameInRoom()},stopGame:function(){Ie.stopGameInRoom()},sendChatMessage:function(e){Ie.sendChatMessage(e)},movePlayerFromQueueToGame:function(e){Ie.movePlayerInRoom(e)},makeChoice:function(e){Ie.sendChoiceToGame(e)},startVoteIssue:function(e){Ie.startVoteIssueInRoom(e)},stopVoteIssue:function(e){Ie.stopVoteIssueInRoom(e)},selectIssue:function(e){Ie.selectIssueInRoom(e)},resetVoteIssue:function(e){Ie.resetVoteIssueInRoom(e)},setSettings:function(e){Ie.setSettingsInRoom(e)}},Ee=we,Le=n(289),Ue=n(262),Ve=n(263),Ae=n(264),Fe=n(265),Me=(n(180),function(e){var t=e.open,n=e.onChangeRegisterSuccessPopupState,s=Object(x.g)(),a=function(){n(!1),s.push("/welcomePage")};return Object(h.jsxs)(Le.a,{className:"RegisterSuccessPopup",open:t,onClose:a,children:[Object(h.jsx)(Ue.a,{children:"Success registration"}),Object(h.jsxs)(Ve.a,{children:[Object(h.jsx)(Ae.a,{children:"Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros."}),Object(h.jsx)(Ae.a,{children:"Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor."}),Object(h.jsx)(Ae.a,{children:"Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla."})]}),Object(h.jsx)(Fe.a,{}),Object(h.jsx)(G.a,{children:Object(h.jsx)(_.a,{autoFocus:!0,onClick:a,children:"OK"})})]})}),Ke=n(99),ze=(n(181),n(268)),De=["loading","children"],Be=function(e){var t=e.loading,n=e.children,s=Object(Ke.a)(e,De);return Object(h.jsxs)(Le.a,Object(P.a)(Object(P.a)({},s),{},{className:"".concat(s.className," PopUpLinearProgress"),children:[t&&Object(h.jsx)(ze.a,{}),n]}))},qe=(n(182),n(282)),He=n(286),Ye=function(e){var t=e.open,n=e.onChangeFailPopUpState,s=e.title,a=e.description;return Object(h.jsx)(Le.a,{className:"FailPopUp",open:t,onClose:function(){return n(!1)},children:Object(h.jsxs)(qe.a,{onClose:function(){return n(!1)},variant:"outlined",severity:"error",children:[Object(h.jsx)(He.a,{children:s}),a]})})},Je=function(e){var t,n=e.open,s=e.onChangeRegisterPopupState,a=Object(f.b)(),c=Object(r.useState)(!1),i=Object(l.a)(c,2),o=i[0],u=i[1],j=Object(r.useState)(""),d=Object(l.a)(j,2),b=d[0],m=d[1],p=Object(r.useState)(L),g=Object(l.a)(p,2),x=g[0],v=g[1],N=Object(r.useState)([]),C=Object(l.a)(N,2),w=C[0],U=C[1],V=Object(r.useState)(!1),A=Object(l.a)(V,2),F=A[0],M=A[1],K=Object(r.useState)(!1),z=Object(l.a)(K,2),D=z[0],B=z[1],q=function(){var e=Object(k.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,Ee.registerNewUser(x);case 3:e.sent.isSuccess?(a(J(Object(P.a)(Object(P.a)({},x),{},{isLogin:!0}))),u(!1),s(!1),v(L),M(!0)):(u(!1),B(!0));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(e){var t=e.name,n=e.title,s=e.errorMessage;return w.includes(t)?s||"".concat(n," can't be shorter than 3 chars."):""},Y=function(e){var t=e.target,n=t.value,s=t.name;v(Object(P.a)(Object(P.a)({},x),{},Object(S.a)({},s,n))),function(e,t){if(w&&U){var n=/.{3,}/;if("login"===e&&(n=/^[^\s]{3,}$/),n.test(t)){if(w.includes(e)){var s=w.filter((function(t){return t!==e}));U(s)}}else w.includes(e)||U([].concat(Object(I.a)(w),[e]))}}(s,n)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Be,{className:"RegisterPopup",open:n,onClose:function(){return s(!1)},loading:o,children:Object(h.jsxs)("form",{children:[Object(h.jsx)("h3",{className:"RegisterPopup__title",children:"Register new user"}),E.map((function(e){return Object(h.jsx)("div",{className:"RegisterPopup__box",children:Object(h.jsxs)("label",{children:[Object(h.jsxs)("span",{className:"RegisterPopup__boxTitle",children:["Your ",e.title,":"]}),Object(h.jsx)(T.a,{className:"RegisterPopup__field",defaultValue:x[e.name],onChange:Y,name:e.name,error:w.includes(e.name),helperText:H(e),type:e.type?e.type:"text",variant:"outlined",size:"small"})]})},e.name)})),Object(h.jsxs)("div",{className:"RegisterPopup__avatar",children:[Object(h.jsx)("span",{className:"RegisterPopup__boxTitle",children:"Image:"}),Object(h.jsxs)("div",{className:"RegisterPopup__avatarBtns",children:[Object(h.jsxs)("label",{className:"RegisterPopup__avatarUpload",children:[Object(h.jsx)(R.a,{type:"file",onChange:function(e){return function(e){var t=e.files[0];if(t){e.value="";var n=new FileReader;n.onload=function(){n.result&&(m(n.result.toString()),v(Object(P.a)(Object(P.a)({},x),{},{avatar:n.result.toString()})))},n.readAsDataURL(t)}}(e.target)}}),Object(h.jsx)(O.a,{src:b,children:(t=x.firstName,t?t.length>1?"".concat(t[0]).concat(t[t.length-1]):"".concat(t[0]):null),alt:"Avatar"})]}),Object(h.jsx)("button",{className:"RegisterPopup__avatarReset",onClick:function(){return m("")},type:"button",children:"\xd7"})]})]}),Object(h.jsxs)(G.a,{className:"RegisterPopup__btns",children:[Object(h.jsx)(_.a,{onClick:function(){return q()},disabled:w.length>0,variant:"contained",color:"primary",size:"large",children:"Confirm"}),Object(h.jsx)(_.a,{onClick:function(){return s(!1)},variant:"outlined",color:"primary",size:"large",children:"Cancel"})]})]})}),Object(h.jsx)(Me,{open:F,onChangeRegisterSuccessPopupState:function(e){return M(e)}}),Object(h.jsx)(Ye,{open:D,onChangeFailPopUpState:function(e){return B(e)},title:"Fail registration",description:"This is an error alert \u2014 check it out!"})]})},We=(n(184),function(e){var t=e.open,n=e.onChangeLogInPopupState,s=Object(x.g)(),a=Object(f.b)(),c=Object(r.useState)(!1),i=Object(l.a)(c,2),o=i[0],u=i[1],j=Object(r.useState)({login:"",password:""}),d=Object(l.a)(j,2),b=d[0],m=d[1],O=Object(r.useState)(!1),p=Object(l.a)(O,2),g=p[0],v=p[1],N=function(){var e=Object(k.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,Ee.signInUser(b);case 3:(t=e.sent).isSuccess?(u(!1),a(J(Object(P.a)(Object(P.a)({},t.body),{},{isLogin:!0}))),m({login:"",password:""}),s.push("/welcomePage"),n(!1)):(u(!1),v(!0));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(e){var t=e.target,n=t.value,s=t.name;m(Object(P.a)(Object(P.a)({},b),{},Object(S.a)({},s,n)))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Be,{className:"LogInPopup",open:t,onClose:function(){return n(!1)},loading:o,children:Object(h.jsxs)("form",{children:[w.map((function(e){return Object(h.jsx)("div",{className:"LogInPopup__fieldContainer",children:Object(h.jsx)("label",{children:Object(h.jsx)(T.a,{className:"LogInPopup__field",defaultValue:b[e],onChange:I,name:e,type:"password"===e?"password":"text",label:e,variant:"outlined",size:"small"})})},e)})),Object(h.jsxs)(G.a,{className:"LogInPopup__actions",children:[Object(h.jsx)(_.a,{onClick:N,variant:"contained",color:"primary",size:"large",children:"Confirm"}),Object(h.jsx)(_.a,{onClick:function(){return n(!1)},variant:"outlined",color:"primary",size:"large",children:"Cancel"})]})]})}),Object(h.jsx)(Ye,{open:g,onChangeFailPopUpState:function(e){return v(e)},title:"Fail Log In",description:"This is an error alert \u2014 check it out!"})]})}),Qe=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)(!1),c=Object(l.a)(a,2),i=c[0],o=c[1];return Object(h.jsxs)("div",{className:"startPage page__content",children:[Object(h.jsx)(N,{}),Object(h.jsx)(_.a,{onClick:function(){return s(!0)},variant:"contained",color:"primary",size:"large",children:"Sign up"}),Object(h.jsx)(_.a,{onClick:function(){return o(!0)},variant:"contained",color:"primary",size:"large",children:"Log in"}),Object(h.jsx)(Je,{open:n,onChangeRegisterPopupState:function(e){return s(e)}}),Object(h.jsx)(We,{open:i,onChangeLogInPopupState:function(e){return o(e)}})]})},Xe=(n(185),n(276));function Ze(e,t){return Object(P.a)(Object(P.a)({},e),{},{isScrum:t})}n(186);var $e=n(277),et=n(127),tt=n.n(et);var nt={getUserByLogin:function(e,t){return e.players.find((function(e){return e.login==t}))}},st=(n(187),function(e){var t,n=p((function(e){return e.userInfo.login})),s=p((function(e){return e.roomInfo})),a=nt.getUserByLogin(s,e.login),c=null===a||void 0===a?void 0:a.isScrum,r=e.avatar,i=e.firstName,o=e.lastName,l=e.jobPosition;void 0!==r&&""!==r||(t=i[0],void 0!==o&&""!==o&&(t+=o[0]));var u=function(){var t={whoKick:e.login,amountAgree:0,isVoiting:!1,message:"kick",whoOffer:n};Ee.kickPlayer(t)},j=c||e.isScrum?Object(h.jsx)("div",{style:{width:"10px",height:"40px"}}):Object(h.jsx)($e.a,{children:Object(h.jsx)(tt.a,{onClick:u})});return Object(h.jsxs)("div",{className:"PlayerCard",children:[Object(h.jsx)(O.a,{className:"PlayerCard_avatar",src:r,children:t}),Object(h.jsxs)("div",{className:"PlayerCard_info",children:[Object(h.jsxs)("div",{className:"PlayerCard_info__name",children:[i," ",o]}),Object(h.jsx)("div",{className:"PlayerCard_info__position",children:l})]}),j]})}),at=(n(189),n(128)),ct=n.n(at),rt=(n(190),function(e){var t=e.classes,n=e.children;return Object(h.jsx)("div",{className:"".concat(t," Issue"),children:n})}),it=function(e){var t=p((function(e){return e.userInfo})),n=t.isScrum,s=e.title,a=e.priority,c=e.score,r=e.isActive,i=e.isVoting,o=e.link;return Object(h.jsxs)(rt,{classes:"GameIssue".concat(i?" GameIssue_voting":r?" GameIssue_active":""),children:[Object(h.jsxs)("div",{className:"Issue__info",children:[i&&Object(h.jsx)("span",{children:"Current"}),Object(h.jsx)("a",{className:"Issue__title",href:o,target:"_blank",children:s}),Object(h.jsx)("span",{className:"Issue__priority",children:a})]}),c?Object(h.jsx)("span",{className:"GameIssue__score",children:c?"\u2705":"\ud83d\uded1"}):null,n&&Object(h.jsx)($e.a,{children:Object(h.jsx)(ct.a,{onClick:function(){Ee.deleteIssue(e.id)}})})]})},ot=function(e){var t=e.target;if(t.classList.contains("draggable")){var n=e.clientX-t.getBoundingClientRect().left,s=e.clientY-t.getBoundingClientRect().top;a(e.pageX,e.pageY),document.addEventListener("mousemove",c),t.onmouseup=function(){document.removeEventListener("mousemove",c),t.onmouseup=null},t.ondragstart=function(){return!1}}function a(e,a){t.style.left=e-n+"px",t.style.top=a-s+"px"}function c(e){a(e.pageX,e.pageY)}},lt=n(130),ut=n.n(lt),jt=n(131),dt=n.n(jt),bt=n(292),mt=function(e){var t,n=p((function(e){return e.roomInfo})),s=nt.getUserByLogin(n,e.messageInfo.login),a=s.firstName,c=s.lastName,r=s.avatar,i=s.jobPosition;return void 0!==r&&""!==r||void 0===a||(t=a[0],void 0!==c&&""!==c&&(t+=c[0])),console.log(e),Object(h.jsxs)("li",{className:"Chat_message",children:[Object(h.jsx)("div",{className:"Chat_message__text",children:e.messageInfo.message}),Object(h.jsx)(bt.a,{title:Object(h.jsxs)("div",{style:{textAlign:"center"},children:[a," ",c,Object(h.jsx)("br",{}),i]}),children:Object(h.jsx)(O.a,{className:"Chat_message__avatar",src:r,children:t})})]})};n(191);function Ot(e){return Object(h.jsx)("li",{className:"technical__message",children:e.message})}var ft=function(){var e=p((function(e){return e.chat})),t=p((function(e){return e.userInfo}));return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)($e.a,{className:"Chat__hide-btn",onClick:function(e){var t;null===(t=document.querySelector(".Chat"))||void 0===t||t.classList.toggle("Chat__hidden")},children:Object(h.jsx)(ut.a,{})}),Object(h.jsxs)("div",{className:"Chat draggable",onMouseDown:ot,children:[Object(h.jsx)("ul",{className:"Chat_messages",children:e.map((function(e){return e.login?Object(h.jsx)(mt,{messageInfo:e}):Object(h.jsx)(Ot,{isTechnicalMessage:!0,message:String(e)})}))}),Object(h.jsxs)("div",{className:"Chat_input",children:[Object(h.jsx)("input",{placeholder:"Type something...",className:"Chat_input__text"}),Object(h.jsx)($e.a,{onClick:function(e){var n,s=null===(n=e.target.closest(".Chat"))||void 0===n?void 0:n.querySelector(".Chat_input__text"),a=s.value;if(a){var c=function(e,t){return{login:e,message:t}}(t.login,a);Ee.sendChatMessage(c),s.value=""}},className:"Chat_input__button",children:Object(h.jsx)(dt.a,{})})]})]})]})};function pt(e){var t=p((function(e){return e.userInfo.isScrum}));return Object(h.jsxs)("li",{className:"queue__person",children:[t?Object(h.jsx)("button",{className:"queue__addBtn",onClick:function(){Ee.movePlayerFromQueueToGame(e.login)},children:"+"}):Object(h.jsx)(h.Fragment,{}),Object(h.jsx)(st,Object(P.a)({},e))]})}n(192);var ht=n(278);function gt(){var e=p((function(e){return e.roomInfo}));return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)($e.a,{className:"queue__hide-btn",onClick:function(e){var t;null===(t=document.querySelector(".queue"))||void 0===t||t.classList.toggle("queue__hidden")},children:Object(h.jsx)(ht.a,{})}),Object(h.jsxs)("ul",{className:"queue draggable",onMouseDown:ot,children:[Object(h.jsx)("div",{className:"queue__close"}),e.queue.map((function(e){return Object(h.jsx)(pt,Object(P.a)({},e))}))]})]})}n(193);var xt=function(e){var t=e.value,n=p((function(e){return e.game})),s=n.issuesInfo,a=n.isVoting,c=p((function(e){return e.userInfo})),r=c.login,i=p((function(e){return e.settings.shortScoreType}));return Object(h.jsx)("div",{onClick:function(){if(a){var t=s.find((function(e){return e.isSelected}));if(t){var n={issueId:t.issue.id,login:r,score:e.value};Ee.makeChoice(n)}}},className:"card-container",children:Object(h.jsxs)("div",{className:"GameCard",children:[Object(h.jsxs)("div",{className:"GameCard_front",children:[Object(h.jsx)("div",{className:"GameCard_type",children:i}),Object(h.jsx)("div",{className:"GameCard_value",children:t}),Object(h.jsx)("div",{className:"GameCard_type GameCard_type__reverse",children:i})]}),Object(h.jsx)("div",{className:"GameCard_back"})]})})};n(117);function _t(e){var t,n=p((function(e){return e.game})),s=p((function(e){return e.settings.shortScoreType})),a=p((function(e){return e.userInfo.isScrum})),c=null===(t=e.currentIssueInfo.votes.find((function(t){return t.login===e.userInfo.login})))||void 0===t?void 0:t.score;return a?Object(h.jsxs)("li",{className:"votes__item",children:[Object(h.jsx)("div",{className:"votes__score",children:c||"In progress"}),Object(h.jsx)(st,Object(P.a)({},e.userInfo))]}):Object(h.jsxs)("li",{className:"votes__item",children:[n.isVoting?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)("div",{className:"votes__score",children:"".concat(c," ").concat(s)||"In progress"}),Object(h.jsx)(st,Object(P.a)({},e.userInfo))]})}function vt(){var e=p((function(e){return e.game})),t=e.issuesInfo.find((function(e){return e.isSelected}));return t?Object(h.jsx)("ul",{className:"votes",children:e.players.map((function(e){return Object(h.jsx)(_t,{userInfo:e,currentIssueInfo:t})}))}):Object(h.jsx)("ul",{className:"votes"})}n(194),n(195);var Nt=function(e){var t=e.classes,n=e.children;return Object(h.jsxs)("div",{className:"".concat(t," RoundTime"),children:[Object(h.jsxs)("div",{className:"RoundTime__header",children:[Object(h.jsx)("span",{children:"minutes"}),Object(h.jsx)("span",{children:"seconds"})]}),Object(h.jsx)("div",{className:"RoundTime__container",children:n})]})},St=function(){var e=p((function(e){return e.game})),t=e.isVoting,n=p((function(e){return e.settings})),s=n.roundTime,a=s,c=Object(r.useState)(s),i=Object(l.a)(c,2),o=i[0],u=i[1];Object(r.useEffect)((function(){t&&(a=s,u(s));var e=function e(){t&&(--a,u(a),a>0&&setTimeout((function(){return e()}),1e3))};setTimeout((function(){return e()}),1e3)}),[t,u]);return Object(h.jsxs)(Nt,{classes:"RoundTimePlayable",children:[Object(h.jsx)("span",{className:"RoundTime__time",children:Math.floor(o/60)}),":",Object(h.jsx)("span",{className:"RoundTime__time",children:function(){var e=o%60;return e<10?"0".concat(e):e}()})]})},It=(n(196),n(132)),Ct=n.n(It),yt=(n(197),n(198),n(274)),kt=n(284),Pt=n(293),Tt=function(e){var t=e.classes,n=e.open,s=e.onChangePopupState,a=e.issue,c=Object(r.useState)(!1),i=Object(l.a)(c,2),o=i[0],u=i[1],j=Object(r.useState)(a.title),d=Object(l.a)(j,2),b=d[0],m=d[1],O=Object(r.useState)(a.link),f=Object(l.a)(O,2),p=f[0],g=f[1],x=Object(r.useState)(a.priority),v=Object(l.a)(x,2),N=v[0],S=v[1];return Object(h.jsx)(Be,{className:"".concat(t," IssuePopup"),open:n,onClose:function(){return s(!1)},loading:o,children:Object(h.jsxs)("form",{children:[Object(h.jsx)("h3",{className:"IssuePopup__title",children:"CreateIssuePopup"===t?"Create Issue":"Update Issue"}),Object(h.jsxs)("label",{className:"IssuePopup__box",children:[Object(h.jsx)("span",{className:"IssuePopup__boxTitle",children:"Title:"}),Object(h.jsx)(T.a,{className:"IssuePopup__field",defaultValue:b,onChange:function(e){return m(e.target.value)},name:"title",variant:"outlined",size:"small"})]}),Object(h.jsxs)("label",{className:"IssuePopup__box",children:[Object(h.jsx)("span",{className:"IssuePopup__boxTitle",children:"Link:"}),Object(h.jsx)(T.a,{className:"IssuePopup__field",defaultValue:p,onChange:function(e){return g(e.target.value)},name:"link",variant:"outlined",size:"small"})]}),Object(h.jsxs)("label",{className:"IssuePopup__box",children:[Object(h.jsx)("span",{className:"IssuePopup__boxTitle",children:"Priority:"}),Object(h.jsx)(yt.a,{children:Object(h.jsxs)(kt.a,{className:"IssuePopup__select",value:N,onChange:function(e){return S(e.target.value)},name:"priority",children:[Object(h.jsx)(Pt.a,{value:"low",children:"Low"}),Object(h.jsx)(Pt.a,{value:"middle",children:"Middle"}),Object(h.jsx)(Pt.a,{value:"hight",children:"Hight"})]})})]}),Object(h.jsxs)(G.a,{className:"IssuePopup__btns",children:[Object(h.jsx)(_.a,{onClick:function(){u(!0),"CreateIssuePopup"===t?Ee.makeIssue({title:b,priority:N,link:p,id:String(ye(b)+Date.now())}):Ee.updateIssue(Object(P.a)(Object(P.a)({},a),{},{title:b,priority:N,link:p})),u(!1),s(!1),"CreateIssuePopup"===t&&(m(""),g(""),S("low"))},variant:"contained",color:"primary",size:"large",children:"Confirm"}),Object(h.jsx)(_.a,{onClick:function(){return s(!1)},variant:"outlined",color:"primary",size:"large",children:"Cancel"})]})]})})},Rt=function(e){return Object(h.jsx)(Tt,Object(P.a)({classes:"CreateIssuePopup",issue:U},e))},Gt=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1];return Object(h.jsxs)(rt,{classes:"CreateIssue",children:[Object(h.jsx)("div",{className:"Issue__info",children:Object(h.jsx)("h4",{className:"Issue__title",children:"Crete new Issue"})}),Object(h.jsx)($e.a,{onClick:function(){return s(!0)},children:Object(h.jsx)(Ct.a,{})}),Object(h.jsx)(Rt,{open:n,onChangePopupState:function(e){return s(e)}})]})};n(199);var wt=function(){return Object(h.jsxs)("div",{className:"AboutPage",children:[Object(h.jsx)("div",{className:"AboutPage_logo"}),Object(h.jsx)("div",{className:"AboutPage_text",children:"Planning poker, also called Scrum poker, is a consensus-based, gamified technique for estimating, mostly used for timeboxing in Agile principles. In planning poker, members of the group make estimates by playing numbered cards face-down to the table, instead of speaking them aloud. The cards are revealed, and the estimates are then discussed. By hiding the figures in this way, the group can avoid the cognitive bias of anchoring, where the first number spoken aloud sets a precedent for subsequent estimates."})]})};function Et(e){var t;return Object(h.jsxs)("li",{className:"statistics__item",children:[Object(h.jsx)(xt,{value:e.cardInfo.value}),Object(h.jsxs)("span",{children:[Lt((null===(t=e.currentIssue)||void 0===t?void 0:t.votes.map((function(e){return e.score})))||[],e.cardInfo.value),"%"]})]})}function Lt(e,t){var n=0;return e.forEach((function(e){e==t&&n++})),Math.floor(n/e.length*1e4)/100}n(200);function Ut(e){var t=p((function(e){return e.game.issuesInfo})),n=t.find((function(t){return t.issue.id===e.issueId})),s=p((function(e){return e.settings})),a=s.shortScoreType;return Object(h.jsxs)("li",{className:"statistics__item",children:[Object(h.jsxs)("h2",{className:"statistics__issueInfo",children:["issue Id: ",null===n||void 0===n?void 0:n.issue.id]}),Object(h.jsx)("ul",{className:"statistics__inner",children:null===n||void 0===n?void 0:n.votes.map((function(e){return 0!==(null===n||void 0===n?void 0:n.votes.length)?Object(h.jsx)(Et,{cardInfo:{type:a,value:e.score},currentIssue:n}):Object(h.jsx)(h.Fragment,{})}))})]})}n(201);var Vt=["component","authed"],At=function(e){var t=e.component,n=e.authed,s=Object(Ke.a)(e,Vt),a=t;return Object(h.jsx)(x.b,Object(P.a)(Object(P.a)({},s),{},{render:function(e){return!0===n?Object(h.jsx)(a,Object(P.a)({},e)):Object(h.jsx)(x.a,{to:{pathname:"/planning-poker",state:{from:e.location}}})}}))},Ft=function(e){var t=p((function(e){return e.userInfo.login})),n=e.message,s=e.whoOffer,a=e.whoKick,c=e.votes,r=!1;return null===c||void 0===c||c.forEach((function(e){t===e.login&&null===e.conclusion&&(r=!0)})),t!==a&&t!==s||(r=!1),Object(h.jsxs)("li",{className:"KickPlayerPopUp",children:[Object(h.jsxs)("p",{className:"KickPlayerPopUp__title",children:[s," offers kick player ",a]}),Object(h.jsxs)("p",{className:"KickPlayerPopUp__text",children:["amountAgree: ",e.amountAgree," / ",null===c||void 0===c?void 0:c.length]}),Object(h.jsx)("p",{className:"KickPlayerPopUp__text",children:n}),r?Object(h.jsxs)(G.a,{className:"KickPlayerPopUp__btns",children:[Object(h.jsx)(_.a,{onClick:function(){return Ee.setKickConclusion(!0,t,a)},variant:"contained",color:"primary",size:"large",children:"Yes"}),Object(h.jsx)(_.a,{onClick:function(){return Ee.setKickConclusion(!1,t,a)},variant:"outlined",color:"primary",size:"large",children:"No"})]}):Object(h.jsx)(h.Fragment,{})]})};n(202);function Mt(){var e=p((function(e){return e.voting}));return Object(h.jsx)("ul",{className:"KickPlayer__container draggable",onMouseDown:ot,children:0!==(null===e||void 0===e?void 0:e.length)?e.map((function(e){return Object(h.jsx)(Ft,Object(P.a)({},e))})):null})}n(203);var Kt=function(e){var t=e.title,n=e.priority,s=e.link;e.id;return Object(h.jsx)(rt,{classes:"IssueEditable IssueNonEditable",children:Object(h.jsxs)("div",{className:"Issue__info",children:[Object(h.jsx)("a",{className:"Issue__title",href:s,target:"_blank",children:t}),Object(h.jsx)("span",{className:"Issue__priority",children:n})]})})},zt=(n(204),function(){var e=p((function(e){return e.roomInfo})),t=p((function(e){return e.userInfo})),n=Object(f.b)(),s=Object(x.g)();Ee.setDispatch(n),Ee.setRouter(s);return Object(h.jsxs)("div",{className:"Lobby__main",children:[Object(h.jsx)(ft,{}),Object(h.jsx)(gt,{}),Object(h.jsx)(Mt,{}),Object(h.jsxs)("div",{className:"Lobby__master",children:[Object(h.jsx)("div",{className:"Lobby__master_title",children:"Scrum master:"}),Object(h.jsx)("div",{onClick:function(){Ee.startGame()},className:"Lobby__start-btn",children:Object(h.jsx)("div",{})}),Object(h.jsx)(st,Object(P.a)(Object(P.a)({},e.scrumInfo),{},{avatar:e.scrumInfo.avatar})),Object(h.jsx)("div",{className:"Lobby__exit-btn",children:Object(h.jsx)("div",{onClick:function(){Ee.disconect(t,e.roomId,"user ".concat(t.login," disconnect the room")),n(oe()),n(B()),s.push("/welcomePage")}})})]}),Object(h.jsxs)("div",{className:"Lobby__issues",children:[t.isScrum&&Object(h.jsx)(Gt,{}),0!==e.issues.length&&e.issues.map((function(e){return Object(h.jsx)(Kt,Object(P.a)({},e))}))]}),Object(h.jsx)("h1",{children:e.roomUrl}),Object(h.jsxs)("div",{className:"Lobby__members",children:[Object(h.jsx)("div",{className:"Lobby__members_title",children:"Members:"}),Object(h.jsx)("div",{className:"Lobby__members_cards",children:e.inGame.map((function(e){return Object(h.jsx)(st,Object(P.a)(Object(P.a)({},e),{},{avatar:e.avatar}))}))})]})]})}),Dt=n(294),Bt=(n(205),n(283)),qt=function(e){var t=e.open,n=e.onSetOpen,s=e.text;return Object(h.jsx)(Bt.a,{open:t,autoHideDuration:6e3,onClose:function(){return n(!1)},children:Object(h.jsx)(qe.a,{onClose:function(){return n(!1)},severity:"success",children:s})})},Ht=(n(206),function(e){var t=e.value,n=t,s=p((function(e){return e.settings.shortScoreType})),a=Object(f.b)();return Object(h.jsx)("div",{className:"card-container CardEditable",children:Object(h.jsxs)("div",{className:"GameCard",children:[Object(h.jsxs)("div",{className:"GameCard_front",children:[Object(h.jsx)("div",{className:"GameCard_type",children:s}),Object(h.jsx)("input",{className:"GameCard_value-input",defaultValue:t,onChange:function(){a(fe({currentValue:n,value:t}))}}),Object(h.jsx)("div",{className:"GameCard_type GameCard_type__reverse",children:s})]}),Object(h.jsx)("div",{className:"GameCard_back"})]})})}),Yt=n(279),Jt=(n(207),function(e){var t=e.open,n=e.onChangePopupState,s=Object(r.useState)(!1),a=Object(l.a)(s,2),c=a[0],i=a[1],o=Object(f.b)(),u=Object(r.useState)(),j=Object(l.a)(u,2),d=j[0],b=j[1];return Object(h.jsx)(Be,{className:"IssuePopup",open:t,onClose:function(){return n(!1)},loading:c,children:Object(h.jsxs)("form",{children:[Object(h.jsx)("h3",{className:"IssuePopup__title",children:"Card"}),Object(h.jsxs)("label",{className:"IssuePopup__box",children:[Object(h.jsx)("span",{className:"IssuePopup__boxTitle",children:"Value:"}),Object(h.jsx)(T.a,{className:"IssuePopup__field",defaultValue:d,onChange:function(e){return b(e.target.value)},name:"title",variant:"outlined",size:"small"})]}),Object(h.jsxs)(G.a,{className:"IssuePopup__btns",children:[Object(h.jsx)(_.a,{onClick:function(){i(!0),i(!1),n(!1),o(Oe(d))},variant:"contained",color:"primary",size:"large",children:"Confirm"}),Object(h.jsx)(_.a,{onClick:function(){return n(!1)},variant:"outlined",color:"primary",size:"large",children:"Cancel"})]})]})})}),Wt=function(e){return Object(h.jsx)(Jt,Object(P.a)({},e))},Qt=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1];return Object(h.jsxs)("div",{className:"card-container",children:[Object(h.jsx)("div",{className:"GameCard",children:Object(h.jsx)("div",{className:"GameCard_front",children:Object(h.jsx)("div",{className:"GameCard_add",children:Object(h.jsx)($e.a,{onClick:function(){return s(!0)},children:Object(h.jsx)(Yt.a,{fontSize:"large"})})})})}),Object(h.jsx)(Wt,{open:n,onChangePopupState:s})]})},Xt=(n(208),function(e){var t=e.cards;p((function(e){return e.settings}));return Object(h.jsx)("div",{className:"CardSettings",children:Object(h.jsxs)("div",{className:"CardSettings__wrapper",children:[Object(h.jsx)("div",{className:"CardSettings__cards",children:t.map((function(e){return Object(h.jsx)(Ht,{value:e})}))}),Object(h.jsx)("div",{className:"CardSettings__add",children:Object(h.jsx)(Qt,{})})]})})}),Zt=(n(209),function(e){var t=e.seconds,n=e.setSeconds,s=e.minutes,a=e.setMinutes,c=function(e){var t=e.e,n=e.changeState,s=t.target.value;s.length>2||n(+s)};return Object(h.jsxs)(Nt,{classes:"RoundTimeEditable",children:[Object(h.jsx)("input",{className:"RoundTime__time",value:s,onChange:function(e){return c({e:e,changeState:a})},type:"number",min:"0"}),":",Object(h.jsx)("input",{className:"RoundTime__time",value:t,onChange:function(e){return c({e:e,changeState:n})},type:"number",min:"0",max:"59"})]})}),$t=(n(210),function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(r.useState)(!1),c=Object(l.a)(a,2),i=c[0],o=c[1],u=Object(r.useState)(!1),j=Object(l.a)(u,2),d=j[0],b=j[1],m=Object(r.useState)("Story Points"),O=Object(l.a)(m,2),g=O[0],x=O[1],_=Object(r.useState)("SP"),v=Object(l.a)(_,2),N=v[0],S=v[1],I=Object(r.useState)(40),C=Object(l.a)(I,2),y=C[0],k=C[1],P=Object(r.useState)(0),R=Object(l.a)(P,2),G=R[0],w=R[1],E=p((function(e){return e.settings.cards})),L=Object(f.b)(),U=Object(r.useState)(!1),V=Object(l.a)(U,2),A=V[0],F=V[1],M=p((function(e){return e.roomInfo}));M.issues;return Object(h.jsxs)("div",{className:"GameSettings",children:[Object(h.jsx)("h3",{className:"GameSettings__title",children:"Game Settings"}),Object(h.jsxs)("div",{className:"GameSettings__wrapper",children:[Object(h.jsxs)("div",{className:"GameSettings__main",children:[Object(h.jsxs)("div",{className:"GameSettings__element",children:[Object(h.jsx)("div",{className:"GameSettings__element_title",children:"Scrum master as player:"}),Object(h.jsx)(Dt.a,{onChange:function(){s(!n)}})]}),Object(h.jsxs)("div",{className:"GameSettings__element",children:[Object(h.jsx)("div",{className:"GameSettings__element_title",children:"Changing card in round end:"}),Object(h.jsx)(Dt.a,{onChange:function(){o(!i)}})]}),Object(h.jsxs)("div",{className:"GameSettings__element",children:[Object(h.jsx)("div",{className:"GameSettings__element_title",children:"Is timer needed:"}),Object(h.jsx)(Dt.a,{onChange:function(){b(!d)}})]}),Object(h.jsxs)("div",{className:"GameSettings__element",children:[Object(h.jsx)("div",{className:"GameSettings__element_title",children:"Score type:"}),Object(h.jsx)(T.a,{defaultValue:"Story Points",onChange:function(e){x(e.target.value)}})]}),Object(h.jsxs)("div",{className:"GameSettings__element",children:[Object(h.jsx)("div",{className:"GameSettings__element_title",children:"Score type(short):"}),Object(h.jsx)(T.a,{defaultValue:"SP",onChange:function(e){var t=e.target.value;L(pe(t)),S(t)}})]}),Object(h.jsxs)("div",{className:"GameSettings__element",children:[Object(h.jsx)("div",{className:"GameSettings__element_title",children:"Round time:"}),Object(h.jsx)(Zt,{seconds:y,setSeconds:k,minutes:G,setMinutes:w})]}),Object(h.jsx)("button",{className:"GameSettings__save",onClick:function(){var e={autoTurn:i,masterAsPlayer:n,roundTime:60*G+y,scoreType:g,shortScoreType:N,timerNeeded:d,cards:E};Ee.setSettings(e),F(!0)},children:"save"})]}),Object(h.jsx)(Xt,{cards:E})]}),Object(h.jsx)(qt,{open:A,onSetOpen:F,text:"Settings successfully saved!"})]})}),en=function(){p((function(e){return e.roomInfo.roomUrl}));return Object(h.jsxs)("div",{className:"Settings",children:[Object(h.jsx)("div",{className:"Settings__connect"}),Object(h.jsx)($t,{})]})},tn=(n(211),function(){var e,t,n=p((function(e){return e.userInfo.isScrum}));return n?(e=Object(h.jsx)(m.b,{to:"/lobby/settings",className:"Lobby__link",children:"Settings"}),t={}):(e=null,t={justifyContent:"center"}),Object(h.jsx)("div",{className:"Lobby",children:Object(h.jsxs)("div",{className:"Lobby__wrapper",children:[Object(h.jsxs)("div",{className:"Lobby__routing",style:t,children:[Object(h.jsx)(m.b,{to:"/lobbyStart",className:"Lobby__link",children:"Lobby"}),e]}),Object(h.jsx)(x.b,{exact:!0,path:"/lobbyStart",children:Object(h.jsx)(zt,{})}),Object(h.jsx)(x.b,{exact:!0,path:"/lobby/settings",children:Object(h.jsx)(en,{})})]})})}),nn=[{path:"/planning-poker/welcomePage",Component:function(){var e=p((function(e){return e.userInfo})),t=(p((function(e){return e.roomInfo})),Object(r.useState)("")),n=Object(l.a)(t,2),s=n[0],a=n[1],c=Object(x.g)(),i=Object(f.b)();Ee.setDispatch(i);return Object(h.jsxs)("div",{className:"welcome-page page__content",children:[Object(h.jsx)(N,{}),Object(h.jsx)("span",{className:"welcome-page__subtitle",children:"Start your planning:"}),Object(h.jsxs)(Xe.a,{className:"welcome-page__control-block",container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(h.jsx)("span",{className:"welcome-page__control-block-text",children:"Create session:"}),Object(h.jsx)(_.a,{className:"welcome-page__control-block-btn",variant:"contained",color:"primary",size:"large",onClick:function(){i(W(!0));var t=Ze(e,!0);Ee.makeNewRoom(t),c.push("/lobbyStart")},children:"Start new game"})]}),Object(h.jsx)("span",{className:"welcome-page__subtitle welcome-page__subtitle_margin_left",children:"OR:"}),Object(h.jsxs)("div",{className:"welcome-page__control-block",children:[Object(h.jsxs)("span",{className:"welcome-page__control-block-text welcome-page__control-block-text_block",children:["Connect to lobby by ",Object(h.jsx)("strong",{className:"welcome-page__control-block-subtext",children:"URL"}),":"]}),Object(h.jsxs)(Xe.a,{container:!0,justifyContent:"space-between",alignItems:"center",children:[Object(h.jsx)(T.a,{className:"welcome-page__control-block-field",variant:"outlined",size:"small",value:s,onChange:function(e){return a(e.target.value)}}),Object(h.jsx)(_.a,{className:"welcome-page__control-block-btn",variant:"contained",color:"primary",size:"large",onClick:function(){i(W(!1));var t=Ze(e,!1),n=function(e){var t=e.split("/");return t[t.length-1]}(s);Ee.connectToRoom(t,n),c.push("/lobbyStart")},children:"Connect"})]})]})]})}},{path:"/planning-poker/lobbyStart",Component:tn},{path:"/planning-poker/lobby/settings",Component:tn},{path:"/planning-poker/game",Component:function(){var e=p((function(e){return e.userInfo})),t=p((function(e){return e.roomInfo})),n=t.scrumInfo,s=t.roomId,a=t.queue,c=p((function(e){return e.game})),i=c.issuesInfo,o=c.isVoting,u=Object(f.b)(),j=Object(x.g)(),d=e.isScrum,b=p((function(e){return e.settings.cards})),m=p((function(e){return e.settings})),O=m.timerNeeded,g=m.masterAsPlayer,v=Object(r.useState)(!0),N=Object(l.a)(v,2),S=N[0],I=N[1];Object(r.useEffect)((function(){I(function(e,t){for(var n=0;n<e.length;n++)if(e[n].login===t)return!0;return!1}(a,e.login))}),[a]);return Object(h.jsxs)("div",{className:"Game page__content",children:[d?Object(h.jsx)(gt,{}):Object(h.jsx)(h.Fragment,{}),Object(h.jsx)(ft,{}),Object(h.jsxs)("div",{className:"Game__main",children:[Object(h.jsx)("h2",{className:"Game__title",children:"Some random game name"}),Object(h.jsxs)("div",{className:"Game__topPanel",children:[Object(h.jsxs)("div",{className:"Game__master",children:[Object(h.jsx)("span",{className:"Game__masterTitle",children:"Scrum master:"}),Object(h.jsx)(st,Object(P.a)(Object(P.a)({},n),{},{avatar:n.avatar||"./logo192.png",login:""}))]}),d?Object(h.jsx)(_.a,{className:"Game__stopBtn",onClick:function(){Ee.stopGame()},variant:"outlined",color:"primary",size:"large",children:"Stop Game"}):Object(h.jsxs)(h.Fragment,{children:[O?Object(h.jsx)(St,{}):Object(h.jsx)(h.Fragment,{}),Object(h.jsx)(_.a,{className:"Game__exitBtn",onClick:function(){Ee.disconect(e,s,"user ".concat(e.login," disconnect the room")),u(oe()),u(B()),j.push("/welcomePage")},variant:"outlined",color:"primary",size:"large",children:"Exit"})]})]}),Object(h.jsxs)("div",{className:"Game__playground",children:[Object(h.jsxs)("div",{className:"Game__dashboardLeft",children:[i.length?Object(h.jsxs)("div",{className:"Game__issues",children:[Object(h.jsx)("h3",{className:"Game__issuesTitle Game__subtitle",children:"Issues:"}),Object(h.jsxs)("ul",{className:"Game__issuesContainer",children:[i.map((function(e){return Object(h.jsx)("li",{onClick:function(){return t=e.issue.id,void(d&&(i.find((function(e){return e.isVoting}))||Ee.selectIssue(t)));var t},children:Object(h.jsx)(it,Object(P.a)(Object(P.a)({},e.issue),{},{isActive:e.isSelected,isVoting:e.isVoting,score:e.result}))},e.issue.id)})),d&&Object(h.jsx)(Gt,{})]})]}):null,d&&Object(h.jsxs)("div",{className:"Game__statistics",children:[Object(h.jsx)("h3",{className:"Game__subtitle",children:"Statistics:"}),Object(h.jsx)("div",{className:"Game__statisticsContainer"})]})]}),d&&Object(h.jsx)("div",{className:"Game__dashboardRight",children:Object(h.jsxs)(h.Fragment,{children:[O?Object(h.jsx)(St,{}):Object(h.jsx)(h.Fragment,{}),Object(h.jsxs)("div",{className:"Game__playgroundBtns",children:[!o&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(_.a,{className:"Game__runRoundBtn",onClick:function(){var e=i.find((function(e){return e.isSelected}));e?Ee.startVoteIssue(e.issue.id):alert("\u0421\u043d\u0430\u0447\u0430\u043b\u0430 \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 issue")},variant:"contained",color:"primary",size:"large",children:"Run round"}),Object(h.jsx)(_.a,{className:"Game__restartRoundBtn",onClick:function(){var e=i.find((function(e){return e.isSelected}));e?Ee.resetVoteIssue(e.issue.id):alert("\u043d\u0435\u0447\u0435\u0433\u043e \u0441\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u0442\u044c :(")},variant:"contained",color:"primary",size:"large",children:"Restart round"})]}),o&&Object(h.jsx)(_.a,{className:"Game__nextIssueBtn",onClick:function(){var e=i.find((function(e){return e.isSelected}));e&&Ee.stopVoteIssue(e.issue.id)},variant:"contained",color:"primary",size:"large",children:"Stop round"})]})]})})]}),Object(h.jsx)("div",{className:"Game__cards",children:S?Object(h.jsx)(h.Fragment,{}):d?g?b.map((function(e){return Object(h.jsx)(xt,{value:e})})):Object(h.jsx)(h.Fragment,{}):b.map((function(e){return Object(h.jsx)(xt,{value:e})}))})]}),Object(h.jsx)(vt,{})]})}},{path:"/planning-poker/statistics",Component:function(){var e=p((function(e){return e.game.issuesInfo}));return Object(h.jsxs)("div",{className:"statisticsPage",children:[Object(h.jsx)("div",{className:"statistics__title",children:"Statistics"}),Object(h.jsx)("ul",{className:"statistics__wrapper",children:e.map((function(e){return Object(h.jsx)(Ut,{issueId:e.issue.id})}))})]})}}];function sn(){var e=p((function(e){return e.userInfo})).isLogin;return Object(h.jsxs)(x.d,{children:[Object(h.jsx)(x.b,{path:"/planning-poker",component:Qe,exact:!0}),Object(h.jsx)(x.b,{path:"/planning-poker/about",component:wt,exact:!0}),nn.map((function(t){var n=t.path,s=t.Component;return Object(h.jsx)(At,{authed:e||!1,path:n,component:s,exact:!0},n)}))]})}n(212);var an=n.p+"static/media/rsschool.fee9d91c.svg",cn=function(){return Object(h.jsx)("footer",{className:"Footer",children:Object(h.jsxs)("div",{className:"Footer__container",children:[Object(h.jsxs)("a",{className:"Footer__rss",href:"https://rs.school/js/",target:"_blank",rel:"noopener noreferrer",children:[Object(h.jsx)("img",{src:an,alt:"RS School"}),Object(h.jsx)("span",{children:"'21"})]}),Object(h.jsx)("ul",{className:"Footer__githubList",children:V.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsxs)("a",{href:"https://github.com/".concat(e),target:"_blank",rel:"noopener noreferrer",children:["\xa9",e]})},e)}))})]})})};var rn=function(){var e=p((function(e){return e.userInfo})),t=Object(r.useState)(!1),n=Object(l.a)(t,2),s=n[0],a=n[1];return Object(r.useEffect)((function(){e.isLogin&&a(!0)}),[e.isLogin]),Object(h.jsxs)(u.a,{theme:d,children:[Object(h.jsx)(b.a,{}),Object(h.jsx)(m.a,{children:Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(g,{}),Object(h.jsx)("main",{children:Object(h.jsx)(sn,{})}),Object(h.jsx)(cn,{}),Object(h.jsx)(qt,{open:s,onSetOpen:a,text:"You are successfully logged in!"})]})})]})},on=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,296)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))},ln=n(44),un=Object(ln.b)({userInfo:H,roomInfo:ce,chat:K,voting:xe,game:$,settings:je}),jn=Object(A.a)({reducer:un});o.a.render(Object(h.jsx)(f.a,{store:jn,children:Object(h.jsx)(rn,{})}),document.getElementById("root")),on()}},[[213,1,2]]]);
//# sourceMappingURL=main.78186da8.chunk.js.map